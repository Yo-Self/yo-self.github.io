"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[768],{8768:function(e,t,r){r.d(t,{default:function(){return H}});var a=r(7437),l=r(2265);let n={search:"Buscar...",searchCategory:"Busca",all:"Todos",share:"Compartilhar",close:"Fechar",ingredients:"Ingredientes",allergens:"Al\xe9rgenos",portion:"Por\xe7\xe3o",price:"Pre\xe7o","Menu Principal":"Menu Principal",Sobremesas:"Sobremesas",Bebidas:"Bebidas","Carta de Drinks":"Carta de Drinks",Destilados:"Destilados","Carta de Vinhos":"Carta de Vinhos","Menu Executivo":"Menu Executivo","Happy hour":"Happy hour","Sunset Moendo":"Sunset Moendo","Couver artistico":"Couver art\xedstico",Sushi:"Sushi",Sashimi:"Sashimi",Temaki:"Temaki",Ramen:"Ramen",Udon:"Udon","Bebidas Japonesas":"Bebidas Japonesas","Pratos Principais":"Pratos Principais",Sopas:"Sopas",Entradas:"Entradas","Bebidas Chinesas":"Bebidas Chinesas",Bibimbap:"Bibimbap",Kimchi:"Kimchi","Bebidas Coreanas":"Bebidas Coreanas"};function s(){return{t:e=>n[e]||e}}var i=r(6463);function o(e){let{open:t,onClose:r,currentSort:l,onSortChange:n}=e;if(!t)return null;let s=(e,t)=>{n({field:e,direction:t}),r()};return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 mx-4 max-w-sm w-full shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Ordenar por"}),(0,a.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Ordena\xe7\xe3o"}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)("button",{onClick:()=>s("default","asc"),className:"flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-colors ".concat("default"===l.field?"bg-cyan-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:"Padr\xe3o"})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Nome"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>s("name","asc"),className:"flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-colors ".concat("name"===l.field&&"asc"===l.direction?"bg-cyan-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:"A → Z"}),(0,a.jsx)("button",{onClick:()=>s("name","desc"),className:"flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-colors ".concat("name"===l.field&&"desc"===l.direction?"bg-cyan-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:"Z → A"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Pre\xe7o"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>s("price","asc"),className:"flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-colors ".concat("price"===l.field&&"asc"===l.direction?"bg-cyan-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:"Menor → Maior"}),(0,a.jsx)("button",{onClick:()=>s("price","desc"),className:"flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-colors ".concat("price"===l.field&&"desc"===l.direction?"bg-cyan-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:"Maior → Menor"})]})]})]}),(0,a.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsx)("button",{onClick:r,className:"w-full py-3 px-4 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancelar"})})]})})}function c(e){let{currentSort:t,onSortChange:r}=e,[n,s]=(0,l.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>s(!0),className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-500 hover:bg-gray-600 transition-colors duration-200 shadow-lg text-white","aria-label":"Ordenar pratos",title:"Ordenar pratos",children:(()=>{let e=(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})});return"default"===t.field?(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}):"name"===t.field?(t.direction,(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})})):"price"===t.field?(t.direction,(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})):e})()}),(0,a.jsx)(o,{open:n,onClose:()=>s(!1),currentSort:t,onSortChange:r})]})}var d=r(628);function u(){let{fontSize:e,increaseFontSize:t,decreaseFontSize:r,resetFontSize:n}=(0,d.H)(),[s,i]=(0,l.useState)(!1);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{onClick:()=>i(!s),className:"flex items-center justify-center w-8 h-8 rounded-full ".concat((()=>{switch(e){case"large":return"bg-orange-500 hover:bg-orange-600";case"extra-large":return"bg-red-500 hover:bg-red-600";default:return"bg-blue-500 hover:bg-blue-600"}})()," transition-colors duration-200 shadow-lg text-white"),"aria-label":"Configura\xe7\xf5es de acessibilidade",title:"Configura\xe7\xf5es de acessibilidade",children:(0,a.jsxs)("div",{className:"w-4 h-4 flex items-center justify-center font-bold text-xs",children:[(0,a.jsx)("span",{className:"text-xs",children:"a"}),(0,a.jsx)("span",{className:"text-sm",children:"A"})]})}),s&&(0,a.jsx)("div",{className:"absolute top-full left-0 mt-2 bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-3 z-50 min-w-[200px]",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Tamanho da fonte"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("button",{onClick:()=>{r(),i(!1)},disabled:"normal"===e,className:"w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ".concat("normal"===e?"bg-gray-100 dark:bg-gray-800 text-gray-400 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"),children:"Diminuir fonte"}),(0,a.jsx)("button",{onClick:()=>{t(),i(!1)},disabled:"extra-large"===e,className:"w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ".concat("extra-large"===e?"bg-gray-100 dark:bg-gray-800 text-gray-400 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"),children:"Aumentar fonte"}),(0,a.jsx)("button",{onClick:()=>{n(),i(!1)},className:"w-full text-left px-3 py-2 rounded-lg text-sm transition-colors hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300",children:"Tamanho padr\xe3o"})]}),(0,a.jsx)("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Tamanho atual: ","normal"===e?"Normal":"large"===e?"Grande":"Extra Grande"]})})]})}),s&&(0,a.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)})]})}let x=()=>{let e=/iPad|iPhone|iPod/.test(navigator.userAgent),t=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&/iPad|iPhone|iPod/.test(navigator.userAgent),r="MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;return e||t||r},m=async e=>{let t={title:"Card\xe1pio - ".concat(e.name),text:"Confira o card\xe1pio do ".concat(e.name,"!"),url:window.location.href};if(x()){if("https:"!==window.location.protocol&&"localhost"!==window.location.hostname){alert("Para compartilhar, acesse o site via HTTPS");return}try{await navigator.share(t);return}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;try{await navigator.share({url:t.url});return}catch(e){if(e instanceof Error&&"AbortError"===e.name)return}}}if(navigator.share)try{await navigator.share(t);return}catch(e){if(e instanceof Error&&"AbortError"===e.name)return}try{if(navigator.clipboard&&navigator.clipboard.writeText){await navigator.clipboard.writeText(t.url),alert("Link copiado para a \xe1rea de transfer\xeancia!");return}}catch(e){}try{let e=document.createElement("textarea");e.value=t.url,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select();let r=document.execCommand("copy");if(document.body.removeChild(e),r){alert("Link copiado para a \xe1rea de transfer\xeancia!");return}}catch(e){}alert("N\xe3o foi poss\xedvel compartilhar automaticamente. Copie este link: ".concat(t.url))};function h(e){let{restaurant:t}=e,[r,n]=(0,l.useState)(!1),s=async()=>{if(t){n(!0);try{await m(t)}finally{n(!1)}}};return t?(0,a.jsx)("button",{onClick:s,disabled:r,className:"flex items-center justify-center w-8 h-8 rounded-full bg-cyan-500 hover:bg-cyan-600 disabled:bg-cyan-400 transition-colors duration-200 shadow-lg","aria-label":"Compartilhar card\xe1pio",title:"Compartilhar card\xe1pio",children:r?(0,a.jsxs)("svg",{className:"w-4 h-4 text-white animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,a.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})}):null}function g(e){let{open:t,hasMultiple:r,currentName:l,onClick:n}=e,s=r?"Select restaurant":l||"Restaurant";return(0,a.jsx)("button",{className:"relative w-full h-8 rounded-none border-none shadow-none bg-transparent flex items-center justify-center overflow-hidden",onClick:n,"aria-haspopup":"listbox","aria-expanded":t,"aria-label":s,style:{padding:0},tabIndex:0,type:"button",children:(0,a.jsxs)("span",{"data-tutorial":"restaurant-switch",className:"text-2xl font-bold text-gray-900 dark:text-gray-100 flex items-center justify-center gap-2",children:[l,r&&(0,a.jsx)("svg",{className:"w-6 h-6 transition-transform ".concat(t?"rotate-180":""),fill:"none",stroke:"currentColor",strokeWidth:"3",viewBox:"0 0 24 24",style:{filter:"drop-shadow(0 1.5px 4px rgba(0,0,0,0.7))"},"aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]})})}function f(e){let{restaurants:t,selectedRestaurantId:r,onSelect:n,current:s}=e,[o,c]=(0,l.useState)(!1),d=(0,l.useRef)(null),u=(0,i.useRouter)(),x=(0,i.useSearchParams)().has("multiple");return(0,l.useEffect)(()=>{function e(e){d.current&&!d.current.contains(e.target)&&c(!1)}return o&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[o]),(0,a.jsxs)("div",{className:"relative w-full",ref:d,children:[(0,a.jsx)(g,{open:o,hasMultiple:x,currentName:null==s?void 0:s.name,onClick:()=>x&&c(e=>!e)}),o&&(0,a.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 mt-2 w-64 max-w-xs bg-white dark:bg-gray-900 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 z-50 p-3 flex flex-col gap-3 animate-fade-in",children:t.map(e=>(0,a.jsxs)("button",{className:"relative w-full h-20 rounded-2xl overflow-hidden transition ring-offset-2 focus:outline-none ".concat(e.id===r?"ring-2 ring-cyan-500":""),onClick:()=>{n(e.id),c(!1),u.push("/restaurant/".concat(e.id))},children:[(0,a.jsx)("img",{src:e.image,alt:e.name,className:"object-cover w-full h-full rounded-2xl"}),(0,a.jsx)("span",{className:"absolute inset-0 flex items-center justify-center text-white text-xl font-bold drop-shadow-lg text-center px-2 bg-black/30",children:e.name})]},e.id))})]})}function p(e){let{restaurant:t,restaurants:r,selectedRestaurantId:l,onSelectRestaurant:n,currentSort:i,onSortChange:o}=e,{t:d}=s();return r&&r.length>1&&t?(0,a.jsx)("header",{className:"header bg-white dark:bg-black shadow-sm p-0 m-0",children:(0,a.jsxs)("div",{className:"container mx-auto flex flex-col items-center justify-center px-0 m-0 pt-3 relative",children:[(0,a.jsx)(f,{restaurants:r,selectedRestaurantId:l,onSelect:n,current:t}),(0,a.jsx)("div",{className:"absolute top-3 left-4",children:(0,a.jsx)(u,{})}),(0,a.jsxs)("div",{className:"absolute top-3 right-4 flex items-center gap-2",children:[i&&o&&(0,a.jsx)(c,{currentSort:i,onSortChange:o}),(0,a.jsx)(h,{restaurant:t})]})]})}):(0,a.jsx)("header",{className:"header bg-white dark:bg-black shadow-sm p-0 m-0",children:(0,a.jsxs)("div",{className:"container mx-auto flex items-center justify-center px-4 m-0 pt-6 relative",children:[(0,a.jsx)("h1",{className:"logo text-xl font-bold text-gray-900 dark:text-gray-100",children:null==t?void 0:t.name}),(0,a.jsx)("div",{className:"absolute top-6 left-4",children:(0,a.jsx)(u,{})}),t&&(0,a.jsxs)("div",{className:"absolute top-6 right-4 flex items-center gap-2",children:[i&&o&&(0,a.jsx)(c,{currentSort:i,onSortChange:o}),(0,a.jsx)(h,{restaurant:t})]})]})})}function b(e){let{complementGroup:t,selectedComplements:r,onComplementToggle:l}=e;return(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-1",children:t.title}),t.description&&(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:t.description}),t.required&&(0,a.jsx)("span",{className:"inline-block bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full mb-2",children:"Obrigat\xf3rio"}),t.max_selections&&(0,a.jsxs)("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full ml-2 mb-2",children:["M\xe1ximo ",t.max_selections," op\xe7",t.max_selections>1?"\xf5es":"\xe3o"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:t.complements.map(e=>{let n=r.has(e.name),s=t.max_selections&&r.size>=t.max_selections&&!n;return(0,a.jsxs)("div",{className:"complement-card bg-gray-50 dark:bg-gray-900 rounded-lg shadow cursor-pointer flex flex-col transition-all duration-200 ".concat(n?"ring-2 ring-primary dark:ring-cyan-400 bg-primary/5":"hover:shadow-md"," ").concat(s?"opacity-50 cursor-not-allowed":""),onClick:()=>{s||l(e.name)},style:{height:"90px",paddingBottom:0},children:[(0,a.jsxs)("div",{className:"relative w-full",style:{height:"60%"},children:[(0,a.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover rounded-t-lg"}),(0,a.jsx)("div",{className:"absolute top-2 right-2 w-5 h-5 rounded-full flex items-center justify-center z-10 transition-all duration-200 ".concat(n?"bg-primary dark:bg-cyan-400 text-white":"bg-white/80 text-gray-600"),children:n&&(0,a.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})})}),(0,a.jsxs)("span",{className:"absolute bottom-2 right-2 text-white text-sm font-bold px-0 py-0 z-10 drop-shadow-[0_1.5px_4px_rgba(0,0,0,0.7)]",children:["R$",e.price]}),(0,a.jsx)("div",{className:"absolute bottom-2 left-2 right-16",children:(0,a.jsx)("h4",{className:"text-sm font-semibold text-white drop-shadow-[0_1.5px_4px_rgba(0,0,0,0.7)] leading-tight",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.1"},children:e.name})})]}),(0,a.jsx)("div",{className:"w-full px-3 pb-3 pt-2 flex flex-col justify-center items-start text-left",style:{height:"40%",minHeight:"36px"},children:(0,a.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-300 flex-shrink-0",style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2",maxHeight:"3.6em"},children:e.description})})]},e.name)})})]})}function y(e){let{open:t,dish:r,onClose:n}=e,[s,i]=(0,l.useState)(new Map);(0,l.useEffect)(()=>{if(!t)return;let e=e=>{e.preventDefault(),n(),window.history.pushState(null,"",window.location.href)};return window.history.pushState(null,"",window.location.href),window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[t,n]),(0,l.useEffect)(()=>{r&&i(new Map)},[r]);let o=(e,t)=>{i(a=>{let l=new Map(a),n=new Set(l.get(e)||[]);if(n.has(t))n.delete(t);else{var s;let l=null==r?void 0:null===(s=r.complement_groups)||void 0===s?void 0:s.find(t=>t.title===e);if((null==l?void 0:l.max_selections)&&n.size>=l.max_selections)return a;n.add(t)}return l.set(e,n),l})};return t&&r?(0,a.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50",onClick:n,children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg max-w-4xl w-full max-h-[90vh] overflow-hidden relative mx-4 my-8",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:r.image,alt:r.name,className:"w-full h-48 object-cover"}),(0,a.jsx)("button",{className:"absolute top-2 right-2 w-10 h-10 flex items-center justify-center bg-transparent p-0 m-0 focus:outline-none z-10",onClick:n,"aria-label":"Close",children:(0,a.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"drop-shadow-[0_1.5px_4px_rgba(0,0,0,0.7)]",children:[(0,a.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,a.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-full px-4 py-2",children:(0,a.jsx)("h2",{className:"text-2xl font-bold text-white drop-shadow-[0_1.5px_4px_rgba(0,0,0,0.7)]",children:r.name})})]}),(0,a.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[(0,a.jsx)("p",{className:"mb-2 text-gray-700 dark:text-gray-300",children:r.description}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Ingredientes:"}),(0,a.jsx)("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:r.ingredients})]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Al\xe9rgenos:"}),(0,a.jsx)("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:r.allergens})]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Por\xe7\xe3o:"}),(0,a.jsx)("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:r.portion})]}),r.complement_groups&&r.complement_groups.length>0&&(0,a.jsxs)("div",{className:"mt-6 border-t pt-4",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-200 mb-4",children:"Complementos e Adicionais"}),r.complement_groups.map(e=>(0,a.jsx)(b,{complementGroup:e,selectedComplements:s.get(e.title)||new Set,onComplementToggle:t=>o(e.title,t)},e.title))]}),s.size>0&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Sele\xe7\xf5es:"}),Array.from(s.entries()).map(e=>{var t;let[l,n]=e;if(0===n.size)return null;let s=null===(t=r.complement_groups)||void 0===t?void 0:t.find(e=>e.title===l);return(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[l,":"]}),(0,a.jsx)("div",{className:"ml-2",children:Array.from(n).map(e=>{let t=null==s?void 0:s.complements.find(t=>t.name===e);return(0,a.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["• ",e," - R$",null==t?void 0:t.price]},e)})})]},l)})]}),(0,a.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-xl font-bold text-primary dark:text-cyan-300",children:["Total: R$",(()=>{if(!r)return 0;let e=parseFloat(r.price.replace(",","."));return s.forEach((t,a)=>{var l;let n=null===(l=r.complement_groups)||void 0===l?void 0:l.find(e=>e.title===a);n&&t.forEach(t=>{let r=n.complements.find(e=>e.name===t);r&&(e+=parseFloat(r.price.replace(",",".")))})}),e.toFixed(2).replace(".",",")})()]}),null!=r&&!!r.complement_groups&&r.complement_groups.some(e=>!!e.required&&0===(s.get(e.title)||new Set).size)&&(0,a.jsx)("div",{className:"text-sm text-red-600 dark:text-red-400",children:"* Selecione os complementos obrigat\xf3rios"})]}),r.tags&&(0,a.jsx)("div",{className:"flex gap-2 mt-2",children:r.tags.map(e=>(0,a.jsx)("span",{className:"bg-primary dark:bg-cyan-700 text-white text-xs px-2 py-0.5 rounded-full",children:e},e))})]})]})}):null}var w=r(6648);function v(e){let{dish:t,onClick:r,size:l,noMargin:n=!1,showMostOrderedTitle:s=!1}=e;return t?(0,a.jsx)("div",{className:"carousel-card flex flex-col items-center cursor-pointer bg-transparent shadow-none p-0 ".concat(n?"":"mx-2"," transition-all duration-300\n        ").concat("main"===l?"w-full max-w-full h-[60vw] md:h-[340px] scale-100 z-20":"w-[32px] h-[60vw] scale-90 opacity-60 z-10 md:w-full md:max-w-full md:h-[340px]","\n      "),onClick:r,style:{pointerEvents:"main"===l?"auto":"none"},children:(0,a.jsxs)("div",{className:"aspect-[4/3] overflow-hidden rounded-2xl relative w-full h-full",children:[(0,a.jsx)(w.default,{src:t.image||"/window.svg",alt:t.name||"Item do card\xe1pio",fill:!0,className:"w-full h-full object-cover animate-kenburns",style:{objectFit:"cover"},sizes:"100vw",loading:"lazy"}),s&&(0,a.jsx)("div",{className:"absolute top-2 right-2 z-30 pointer-events-none",children:(0,a.jsx)("span",{className:"bg-primary dark:bg-cyan-700 text-white text-xs font-bold rounded-full px-2 py-1 select-none",children:"mais pedido"})}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-full text-white text-center font-semibold text-lg py-2 px-2 drop-shadow-[0_1.5px_4px_rgba(0,0,0,0.7)]",children:t.name||"Item"})]})}):null}function j(e){let{restaurant:t,showMostOrderedTitle:r=!1,...n}=e,[s,i]=(0,l.useState)(0),[o,c]=(0,l.useState)(!1),[d,u]=(0,l.useState)(null),x=(0,l.useRef)(null),m=Array.isArray(t.featured_dishes)?t.featured_dishes.filter(Boolean):[],h=(0,l.useRef)(null),g=(0,l.useRef)(null);(0,l.useEffect)(()=>(m.length>1&&(x.current=setTimeout(()=>{i(e=>(e+1)%m.length)},5e3)),()=>{x.current&&clearTimeout(x.current)}),[s,m.length]);let f=e=>{u(e),c(!0)};return 0===m.length?null:(0,a.jsxs)("section",{className:"carousel-section py-0 bg-white dark:bg-black",...n,children:[(0,a.jsx)("div",{className:"container mx-auto px-0 overflow-x-hidden",children:(0,a.jsx)("div",{className:"relative flex items-center justify-center min-h-[260px] md:min-h-[384px] overflow-x-hidden",onTouchStart:e=>{h.current=e.touches[0].clientX,g.current=null},onTouchMove:e=>{g.current=e.touches[0].clientX},onTouchEnd:()=>{if(null===h.current||null===g.current)return;let e=h.current-g.current;Math.abs(e)>50&&(e>0?i(e=>(e+1)%m.length):i(e=>(e-1+m.length)%m.length)),h.current=null,g.current=null},children:1===m.length?(0,a.jsx)("div",{className:"flex justify-center w-full px-4",children:(0,a.jsx)("div",{className:"max-w-[480px] w-full",children:m[0]&&(0,a.jsx)(v,{dish:m[0],onClick:()=>f(m[0]),size:"main",noMargin:!0,showMostOrderedTitle:r},t.id+"-0")})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"absolute left-0 top-0 h-full w-[18vw] md:w-[120px] z-20 bg-transparent p-0 cursor-pointer",style:{outline:"none",border:"none"},"aria-label":"Retroceder",onClick:()=>i((s-1+m.length)%m.length),tabIndex:-1}),(0,a.jsx)("button",{className:"absolute left-0 top-1/2 -translate-y-1/2 z-30 p-0 transition",onClick:()=>i((s-1+m.length)%m.length),"aria-label":"Anterior",style:{display:0===s&&m.length<=2?"none":void 0},children:(0,a.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"drop-shadow-[0_2px_8px_rgba(0,0,0,0.7)] pointer-events-none",children:(0,a.jsx)("polyline",{points:"15,18 9,12 15,6"})})}),(0,a.jsx)("div",{className:"flex items-center justify-center w-full gap-2 md:gap-6 select-none overflow-x-hidden",children:(0,a.jsx)("div",{className:"flex items-center justify-center w-full max-w-[480px] mx-auto",children:(()=>{if(1===m.length)return[{dish:m[0],size:"main",idx:0}];let e=(s-1+m.length)%m.length,t=(s+1)%m.length;return[{dish:m[e],size:"side",idx:e},{dish:m[s],size:"main",idx:s},{dish:m[t],size:"side",idx:t}].filter(e=>!!e.dish)})().map((e,l)=>{var n,s;let{dish:i,size:o}=e;return(0,a.jsx)(v,{dish:i,onClick:()=>"main"===o&&f(i),size:o,showMostOrderedTitle:r},t.id+"-"+(null!==(n=null==i?void 0:i.name)&&void 0!==n?n:"dish")+"-"+(null!==(s=null==i?void 0:i.image)&&void 0!==s?s:"img")+"-"+l)})})}),(0,a.jsx)("button",{className:"absolute right-0 top-0 h-full w-[18vw] md:w-[120px] z-20 bg-transparent p-0 cursor-pointer",style:{outline:"none",border:"none"},"aria-label":"Avan\xe7ar",onClick:()=>i((s+1)%m.length),tabIndex:-1}),(0,a.jsx)("button",{className:"absolute right-0 top-1/2 -translate-y-1/2 z-30 p-0 transition",onClick:()=>i((s+1)%m.length),"aria-label":"Pr\xf3ximo",style:{display:s===m.length-1&&m.length<=2?"none":void 0},children:(0,a.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"drop-shadow-[0_2px_8px_rgba(0,0,0,0.7)] pointer-events-none",children:(0,a.jsx)("polyline",{points:"9,18 15,12 9,6"})})})]})})}),(0,a.jsx)(y,{open:o,dish:d,onClose:()=>c(!1)})]})}var k=r(8059),N=r.n(k);function C(e){let{allCategories:t,activeCategory:r,setActiveCategory:n,t:s,menuItems:i,fallbackImage:o,onGridClick:c,isHome:d=!1}=e,u=(0,l.useRef)(null),x=(0,l.useRef)([]),m=(0,l.useMemo)(()=>{let e={};return t.forEach(t=>{e[t]=s(t)}),e.all=s("Todos"),e},[t,s]),h=(0,l.useMemo)(()=>{let e={};return t.forEach(t=>{let r=i.filter(e=>e.category===t);e[t]=r.length>0?r.map(e=>e.image||o):[o]}),e.all=[o],e},[t,i,o]);(0,l.useEffect)(()=>{let e=setTimeout(()=>{Object.values(h).flat().forEach(e=>{e&&e!==o&&(new Image().src=e)})},100);return()=>clearTimeout(e)},[h,o]);let g=l.useRef(null);l.useEffect(()=>{let e=u.current;if(!e)return;let t=!1;function r(e){1===e.touches.length&&(g.current={x:e.touches[0].clientX,y:e.touches[0].clientY},t=!1)}function a(e){if(!g.current)return;let r=Math.abs(e.touches[0].clientX-g.current.x),a=Math.abs(e.touches[0].clientY-g.current.y);if(!t&&a>r){g.current=null;return}}return e.addEventListener("touchstart",r,{passive:!0}),e.addEventListener("touchmove",a,{passive:!0}),()=>{e.removeEventListener("touchstart",r),e.removeEventListener("touchmove",a)}},[]);let f=l.useRef(null);(0,l.useEffect)(()=>{let e=u.current;if(e)return e.addEventListener("touchstart",a,{passive:!0}),e.addEventListener("touchend",l,{passive:!0}),()=>{e.removeEventListener("touchstart",a),e.removeEventListener("touchend",l)};function a(e){1===e.touches.length&&(f.current={x:e.touches[0].clientX,y:e.touches[0].clientY})}function l(e){if(!f.current)return;let a=e.changedTouches[0].clientX-f.current.x,l=e.changedTouches[0].clientY-f.current.y;if(Math.abs(a)>40&&Math.abs(a)>2*Math.abs(l)){let e=t.indexOf(r);a<0&&e<t.length-1?n(t[e+1]):a>0&&e>0&&n(t[e-1])}f.current=null}},[r,t,n]),(0,l.useEffect)(()=>{let e=t.indexOf(r),a=u.current,l=x.current[e];if(a&&l){let e=l.offsetLeft,t=e+l.offsetWidth,r=a.scrollLeft,n=r+a.offsetWidth;e<r?a.scrollLeft=e-16:t>n&&(a.scrollLeft=t-a.offsetWidth+16)}},[r,t]);let p=d?[...t,"all"]:["all",...t];return(0,l.useEffect)(()=>{let e=p.indexOf(r),t=x.current[e];t&&t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[r]),(0,a.jsxs)("div",{className:"flex flex-row items-center gap-1 py-4 bg-white dark:bg-black px-1",children:[(0,a.jsx)("button",{className:"relative flex items-center justify-center min-w-[56px] w-14 h-16 rounded-xl overflow-hidden shadow transition ring-offset-2 focus:outline-none border-2 ".concat("grid"===r?"ring-2 ring-cyan-500 border-cyan-500 bg-cyan-100 dark:bg-cyan-900":"border-transparent bg-gray-100 dark:bg-gray-800"),onClick:()=>{c&&c(),n("grid")},"aria-label":"Ver categorias em grid",children:(0,a.jsxs)("svg",{className:"w-7 h-7 text-cyan-600 dark:text-cyan-300",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:[(0,a.jsx)("rect",{x:"3",y:"3",width:"7",height:"7",rx:"2"}),(0,a.jsx)("rect",{x:"14",y:"3",width:"7",height:"7",rx:"2"}),(0,a.jsx)("rect",{x:"14",y:"14",width:"7",height:"7",rx:"2"}),(0,a.jsx)("rect",{x:"3",y:"14",width:"7",height:"7",rx:"2"})]})}),(0,a.jsx)("div",{ref:u,className:"flex flex-nowrap overflow-x-auto whitespace-nowrap gap-3 no-scrollbar max-w-full py-1",style:{WebkitOverflowScrolling:"touch",overflowY:"hidden",maxWidth:"100vw",minWidth:0},children:p.map((e,t)=>{let l=m[e]||e,s=h[e]||[o];return(0,a.jsx)(S,{ref:e=>{x.current[t]=e},label:l,images:s,active:r===e,onClick:()=>n(e),fallbackImage:o},e)})})]})}let S=l.memo(l.forwardRef((e,t)=>{let{label:r,images:n,active:s,onClick:i,fallbackImage:o}=e,c=n.length>0?n:[o],[d,u]=l.useState(0),[x,m]=l.useState(null),[h,g]=l.useState(!1),[f,p]=l.useState(!1),[b,y]=l.useState(!1);l.useEffect(()=>{p(!1),y(!1)},[c,r]),l.useEffect(()=>{if(c.length<=1)return;let e=setInterval(()=>{let e=(d+1)%c.length;m(e),g(!0),setTimeout(()=>{u(e),g(!1),m(null)},1e3)},4e3);return()=>clearInterval(e)},[c.length,d]);let w=!f&&c[d]?c[d]:o,v=null!==x?c[x]||o:null;return(0,a.jsxs)("button",{ref:t,onClick:i,style:{flex:"0 0 auto"},className:"jsx-52c66d3ff8729eac "+"relative flex items-center justify-center min-w-[120px] w-40 h-16 rounded-xl overflow-hidden shadow transition ring-offset-0 focus:outline-none ".concat(s?"ring-4 ring-cyan-500 border-cyan-500":"border-transparent"),children:[(0,a.jsx)("img",{src:w,alt:r,draggable:!1,loading:"eager",onLoad:()=>y(!0),onError:e=>{p(!0),e.currentTarget.src=o,y(!0)},className:"jsx-52c66d3ff8729eac "+"object-cover w-full h-full rounded-xl absolute inset-0 z-0 transition-opacity duration-200 ".concat(b?"opacity-100":"opacity-0")}),h&&v&&(0,a.jsx)("img",{src:v,alt:r,style:{animation:"fadein 1s forwards"},draggable:!1,loading:"eager",onError:e=>{p(!0),e.currentTarget.src=o},className:"jsx-52c66d3ff8729eac object-cover w-full h-full rounded-xl absolute inset-0 z-10 transition-opacity duration-1000 opacity-0 animate-fadein"}),(0,a.jsx)("span",{className:"jsx-52c66d3ff8729eac absolute inset-0 flex items-center justify-center z-10",children:(0,a.jsx)("span",{style:{textRendering:"optimizeSpeed",willChange:"auto"},className:"jsx-52c66d3ff8729eac text-white text-base font-bold drop-shadow-[0_2px_8px_rgba(0,0,0,0.95)] text-center px-2 truncate",children:r})}),(0,a.jsx)(N(),{id:"52c66d3ff8729eac",children:"@-webkit-keyframes fadein{from{opacity:0}to{opacity:1}}@-moz-keyframes fadein{from{opacity:0}to{opacity:1}}@-o-keyframes fadein{from{opacity:0}to{opacity:1}}@keyframes fadein{from{opacity:0}to{opacity:1}}"})]})}));function E(e){var t;let{dish:r,onClick:n,size:s="large",fallbackImage:i}=e,[o,c]=l.useState(r.image);return(0,a.jsxs)("div",{className:"menu-card bg-gray-50 dark:bg-gray-900 rounded-lg shadow cursor-pointer flex flex-col items-center ".concat("small"===s?"max-w-xs":""),onClick:n,children:[(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("img",{src:o,alt:r.name,className:"w-full ".concat("small"===s?"h-32":"h-48"," object-cover rounded-t-lg"),onError:()=>c(i)}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-full px-4 py-2",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-white drop-shadow-[0_1.5px_4px_rgba(0,0,0,0.7)]",children:r.name})})]}),(0,a.jsxs)("div",{className:"w-full p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:r.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"font-bold text-primary dark:text-cyan-300",children:["R$",r.price]}),(0,a.jsx)("div",{className:"flex gap-1",children:null===(t=r.tags)||void 0===t?void 0:t.map(e=>(0,a.jsx)("span",{className:"bg-primary dark:bg-cyan-700 text-white text-xs px-2 py-0.5 rounded-full",children:e},e))})]})]})]})}function z(e){let{searchTerm:t="",menuItems:r,categories:n,fallbackImage:i,activeCategory:o,setActiveCategory:c,onGridClick:d,currentSort:u,onSortChange:x}=e,{t:m}=s(),[h,g]=(0,l.useState)(!1),[f,p]=(0,l.useState)(null),b=!!t.trim(),[w,v]=(0,l.useState)(!1),j=(0,l.useRef)(null),k=(0,l.useRef)(t),N=n.filter(e=>r.some(t=>t.category===e)),{handleTouchStart:S,handleTouchMove:z,handleTouchEnd:L}=function(e,t,r){let a=(0,l.useRef)(null),n=(0,l.useRef)(null),s=(0,l.useRef)(null),i=(0,l.useRef)(null),o=a=>{let l=["all",...r],n=l.indexOf(e);"left"===a&&n<l.length-1?t(l[n+1]):"right"===a&&n>0&&t(l[n-1])};return{handleTouchStart:e=>{a.current=e.touches[0].clientX,n.current=null,s.current=e.touches[0].clientY,i.current=null},handleTouchMove:e=>{n.current=e.touches[0].clientX,i.current=e.touches[0].clientY},handleTouchEnd:()=>{if(null===a.current||null===n.current||null===s.current||null===i.current)return;let e=a.current-n.current,t=s.current-i.current;Math.abs(e)>40&&Math.abs(e)>2*Math.abs(t)&&(e>0?o("left"):o("right")),a.current=null,n.current=null,s.current=null,i.current=null}}}(o,c,N);(0,l.useEffect)(()=>{k.current&&!t&&c("all"),k.current=t},[t,c]),(0,l.useEffect)(()=>{},[o,b]),(0,l.useEffect)(()=>{let e=()=>{j.current&&v(j.current.getBoundingClientRect().top<0)};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]);let M=[];M="all"===o?r:r.filter(e=>e.category===o),u&&"default"!==u.field&&(M=[...M].sort((e,t)=>{if("name"===u.field){let r=e.name.toLowerCase(),a=t.name.toLowerCase();return"asc"===u.direction?r.localeCompare(a):a.localeCompare(r)}{let r=parseFloat(e.price.replace(/[^\d,.-]/g,"").replace(",",".")),a=parseFloat(t.price.replace(/[^\d,.-]/g,"").replace(",","."));return"asc"===u.direction?r-a:a-r}}));let T=e=>{p(e),g(!0)};return l.useEffect(()=>(document.documentElement.style.overflowX="hidden",document.body.style.overflowX="hidden",()=>{document.documentElement.style.overflowX="",document.body.style.overflowX=""}),[]),(0,a.jsxs)("section",{className:"menu-section py-0 bg-white dark:bg-black",children:[(0,a.jsxs)("div",{className:"container mx-auto px-0 pb-20",children:[(0,a.jsx)("div",{ref:j,className:"sticky top-0 z-40 bg-white dark:bg-black px-0 pb-2 pl-4 border-b border-gray-100 dark:border-gray-800",children:(0,a.jsx)(C,{allCategories:N,activeCategory:o,setActiveCategory:c,t:m,menuItems:r,fallbackImage:i,onGridClick:d})}),(0,a.jsx)("div",{className:"menu-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 px-4",onTouchStart:S,onTouchMove:z,onTouchEnd:L,children:M.map(e=>(0,a.jsx)(E,{dish:e,onClick:()=>T(e),size:"large",fallbackImage:i},"".concat(e.name,"-").concat(e.category)))})]}),(0,a.jsx)(y,{open:h,dish:f,onClose:()=>g(!1)})]})}function L(e){let{dish:t,onClick:r,size:n="small",fallbackImage:s,isPinned:i=!1,onPinToggle:o}=e,[c,d]=l.useState(t.image);return(0,a.jsxs)("div",{className:"menu-card bg-gray-50 dark:bg-gray-900 rounded-lg shadow cursor-pointer flex flex-col items-center ".concat("small"===n?"max-w-2xl":""),onClick:r,style:{paddingBottom:0,minHeight:160},children:[(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("img",{src:c,alt:t.name,className:"w-full h-28 object-cover rounded-t-lg",onError:()=>s&&d(s)}),t.tags&&t.tags.length>0&&(0,a.jsx)("span",{className:"absolute top-2 right-2 bg-primary dark:bg-cyan-700 text-white text-xs px-2 py-0.5 rounded-full z-10",children:t.tags[0]}),(0,a.jsx)("button",{"data-tutorial":"pin-button",className:"absolute top-2 left-2 w-6 h-6 rounded-full flex items-center justify-center z-40 transition-all duration-200 ".concat(i?"bg-yellow-500 text-white shadow-lg":"bg-white/80 text-gray-600 hover:bg-white hover:text-gray-800"),onClick:e=>{e.stopPropagation(),null==o||o()},children:(0,a.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z"})})}),(0,a.jsxs)("span",{className:"absolute bottom-2 right-2 text-white text-sm font-bold px-0 py-0 z-10 drop-shadow-[0_1.5px_4px_rgba(0,0,0,0.7)]",children:["R$",t.price]}),(0,a.jsx)("div",{className:"absolute bottom-2 left-2 right-16",children:(0,a.jsx)("h3",{className:"text-base font-semibold text-white drop-shadow-[0_1.5px_4px_rgba(0,0,0,0.7)] leading-tight",style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.1"},children:t.name})})]}),(0,a.jsx)("div",{className:"w-full px-3 py-2",children:(0,a.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-300 mb-0",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2"},children:t.description})})]})}S.displayName="CategoryBarCard";var M=r(4446),T=r(3763);function _(e){var t;let{open:r,onClose:n,restaurant:s,selectedCategory:i}=e,[o,c]=(0,l.useState)(0),[d,u]=(0,l.useState)(!1),[x,m]=(0,l.useState)("next"),[h,g]=(0,l.useState)(null),[f,p]=(0,l.useState)(!1),[b,w]=(0,l.useState)(6),[v,j]=(0,l.useState)(new Set),[k,N]=(0,l.useState)(!1),[C,S]=(0,l.useState)(!1),[E,z]=(0,l.useState)(!1),[_,I]=(0,l.useState)({top:0,left:0}),[W,B]=(0,l.useState)([]);Array.from(new Set(s.menu_items.map(e=>e.category)));let R=()=>{W.forEach(e=>clearTimeout(e)),B([])},P=()=>{if(R(),k){N(!1),S(!0);let e=setTimeout(()=>{S(!1),z(!0),setTimeout(()=>{let e=document.querySelector('[data-tutorial="pin-button"]');if(e){let t=e.getBoundingClientRect();I({top:t.top,left:t.left})}else I({top:120,left:20})},300),B([setTimeout(()=>{z(!1),localStorage.setItem("journalSwipeTutorialDone","1")},6e3)])},6e3);B([e])}else C?(S(!1),z(!0),setTimeout(()=>{let e=document.querySelector('[data-tutorial="pin-button"]');if(e){let t=e.getBoundingClientRect();I({top:t.top,left:t.left})}else I({top:120,left:20})},300),B([setTimeout(()=>{z(!1),localStorage.setItem("journalSwipeTutorialDone","1")},6e3)])):E&&(z(!1),localStorage.setItem("journalSwipeTutorialDone","1"))};(0,l.useEffect)(()=>{if(r&&!localStorage.getItem("journalSwipeTutorialDone")){N(!0);let e=setTimeout(()=>{N(!1),S(!0);let e=setTimeout(()=>{S(!1),z(!0),setTimeout(()=>{let e=document.querySelector('[data-tutorial="pin-button"]');if(e){let t=e.getBoundingClientRect();console.log("Pin button found at:",t),I({top:t.top,left:t.left})}else console.log("Pin button not found, using fallback position"),I({top:120,left:20})},300),B([setTimeout(()=>{z(!1),localStorage.setItem("journalSwipeTutorialDone","1")},6e3)])},6e3);B([e])},4e3);B([e])}return()=>{R()}},[r]),(0,l.useEffect)(()=>{let e=()=>{let e=window.innerHeight,t=window.innerWidth;w(Math.floor((e-80)/(t<768?160:t<1024?180:160))*(t<640?2:t<768?2:t<1024?3:t<1280?2:t<1536?3:4))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,l.useEffect)(()=>{if(!r)return;let e=e=>{n()};return window.history.pushState({journalMode:!0},"",window.location.href),window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[r,n]);let A=[],F={};s.menu_items.forEach(e=>{F[e.category]||(F[e.category]=[]),F[e.category].push(e)}),A=Object.entries(F).map(e=>{let[t,r]=e;return{category:t,items:r}});let H=e=>{let t=X[G[o]||0];j(r=>{let a=new Set(r);a.has(e)?a.delete(e):a.add(e);let l=s.menu_items.filter(e=>a.has(e.name)).filter((e,t,r)=>t===r.findIndex(t=>t.name===e.name)),n=[],i=0;A.forEach((e,t)=>{let r=new Set,s=e.items.filter(e=>!(r.has(e.name)||a.has(e.name))&&(r.add(e.name),!0)),o=Math.max(0,b-l.length);if(o<=0){let e=Math.ceil(l.length/b);for(let r=0;r<e;r++)n[i]=t,i++}else{let e=Math.max(1,Math.ceil(s.length/o));for(let r=0;r<e;r++)n[i]=t,i++}});let o=X.indexOf(t),d=n.findIndex(e=>e===o);return setTimeout(()=>{if(-1!==d&&d<i)c(d);else{let e=n.findIndex(e=>e===o);-1!==e?c(e):c(0)}},0),a})},O=(()=>{let e=[],t=s.menu_items.filter(e=>v.has(e.name)).filter((e,t,r)=>t===r.findIndex(t=>t.name===e.name));return A.forEach(r=>{let a=new Set,l=r.items.filter(e=>!(a.has(e.name)||v.has(e.name))&&(a.add(e.name),!0)),n=Math.max(0,b-t.length);if(n<=0)for(let a=0;a<t.length;a+=b){let l=t.slice(a,a+b);e.push(l.map(e=>({dish:e,category:r.category})))}else for(let a=0;a<l.length;a+=n){let s=[...t,...l.slice(a,a+n)];e.push(s.map(e=>({dish:e,category:r.category})))}}),e})(),q=O.length;(0,l.useEffect)(()=>{c(0)},[r]);let D=(0,l.useRef)(null),V=(0,l.useRef)(null);(0,l.useEffect)(()=>(r?(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.documentElement.requestFullscreen?document.documentElement.requestFullscreen().catch(()=>{}):document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen().catch(()=>{}):document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen().catch(()=>{})):(document.body.style.overflow="",document.documentElement.style.overflow="",document.exitFullscreen?document.exitFullscreen().catch(()=>{}):document.webkitExitFullscreen?document.webkitExitFullscreen().catch(()=>{}):document.msExitFullscreen&&document.msExitFullscreen().catch(()=>{})),()=>{document.body.style.overflow="",document.documentElement.style.overflow="",document.exitFullscreen?document.exitFullscreen().catch(()=>{}):document.webkitExitFullscreen?document.webkitExitFullscreen().catch(()=>{}):document.msExitFullscreen&&document.msExitFullscreen().catch(()=>{})}),[r]);let X=A.map(e=>e.category),Y=s.menu_items.filter(e=>v.has(e.name)).filter((e,t,r)=>t===r.findIndex(t=>t.name===e.name)),G=[],$=0;A.forEach((e,t)=>{let r=new Set,a=e.items.filter(e=>!(r.has(e.name)||v.has(e.name))&&(r.add(e.name),!0)),l=Math.max(0,b-Y.length);if(l<=0){let e=Math.ceil(Y.length/b);for(let r=0;r<e;r++)G[$]=t,$++}else{let e=Math.max(1,Math.ceil(a.length/l));for(let r=0;r<e;r++)G[$]=t,$++}});let U=G[o]||0,Z=X[U];return r?(0,a.jsxs)("div",{className:"fixed inset-0 z-[200] flex flex-col items-center justify-center bg-white dark:bg-gray-900 animate-fade-in-fast select-none",onTouchStart:e=>{D.current=e.touches[0].clientX,V.current=null},onTouchMove:e=>{V.current=e.touches[0].clientX},onTouchEnd:()=>{if(null===D.current||null===V.current)return;let e=D.current-V.current;Math.abs(e)>50&&(e>0&&o<q-1?(m("next"),c(e=>e+1)):e<0&&o>0&&(m("prev"),c(e=>e-1))),D.current=null,V.current=null},children:[(0,a.jsx)("button",{className:"fixed left-0 top-0 h-full w-1/8 z-10 bg-transparent p-0 m-0 border-none outline-none",style:{cursor:"pointer"},"aria-label":"Retroceder",onClick:e=>{e.clientX<32&&o>0&&(m("prev"),c(e=>e-1))},tabIndex:-1}),(0,a.jsx)("button",{className:"fixed right-0 top-0 h-full w-1/8 z-10 bg-transparent p-0 m-0 border-none outline-none",style:{cursor:"pointer"},"aria-label":"Avan\xe7ar",onClick:e=>{e.clientX>window.innerWidth-32&&o<q-1&&(m("next"),c(e=>e+1))},tabIndex:-1}),(0,a.jsx)("button",{"aria-label":"P\xe1gina anterior",className:"fixed left-2 md:left-4 top-1/2 -translate-y-1/2 z-20 w-10 h-10 md:w-12 md:h-12 rounded-full bg-black/50 hover:bg-black/60 text-white shadow-lg flex items-center justify-center",onClick:()=>{o>0&&(m("prev"),c(e=>e-1))},disabled:o<=0,style:{opacity:o<=0?.5:1},children:(0,a.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("polyline",{points:"15 18 9 12 15 6"})})}),(0,a.jsx)("button",{"aria-label":"Pr\xf3xima p\xe1gina",className:"fixed right-2 md:right-4 top-1/2 -translate-y-1/2 z-20 w-10 h-10 md:w-12 md:h-12 rounded-full bg-black/50 hover:bg-black/60 text-white shadow-lg flex items-center justify-center",onClick:()=>{o<q-1&&(m("next"),c(e=>e+1))},disabled:o>=q-1,style:{opacity:o>=q-1?.5:1},children:(0,a.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("polyline",{points:"9 18 15 12 9 6"})})}),(0,a.jsxs)("div",{className:"flex flex-row items-center w-full justify-between z-30 gap-0 mt-1 mb-1 px-4",style:{maxWidth:600,margin:"0 auto"},children:[(0,a.jsx)("div",{className:"flex gap-2 flex-1 justify-center min-w-0 overflow-x-auto items-center",style:{maxWidth:"calc(100vw - 64px)"},children:X.map((e,t)=>t===U?(0,a.jsx)("span",{className:"text-xs font-bold text-white text-center leading-tight flex items-center justify-center bg-primary dark:bg-cyan-600 px-3 h-8 rounded-full shadow-lg whitespace-nowrap",style:{minWidth:"fit-content",maxWidth:150,wordBreak:"break-word",display:"inline-flex",minHeight:32},children:e},e):(0,a.jsx)("button",{className:"h-6 w-6 rounded-full bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 scale-100 transition-all duration-200 flex-shrink-0 border border-gray-400 dark:border-gray-500",onClick:()=>{let t=X.indexOf(e),r=G.findIndex(e=>e===t);-1!==r&&c(r)},"aria-label":"Ir para categoria ".concat(e)},e))}),(0,a.jsx)("div",{className:"flex flex-row items-center gap-0",children:(0,a.jsx)("button",{className:"w-10 h-10 flex items-center justify-center z-40 bg-transparent border-none shadow-none p-0 m-0 flex-shrink-0",onClick:n,"aria-label":"Fechar jornal",style:{background:"none",border:"none",boxShadow:"none"},children:(0,a.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,a.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]}),(0,a.jsx)("div",{className:"flex flex-col items-center w-full flex-1 relative px-4 md:px-8 max-w-screen-md mx-auto z-10",style:{perspective:1200},children:(0,a.jsx)(M.M,{mode:"wait",initial:!1,children:(0,a.jsx)(T.E.div,{initial:{x:"next"===x?300:-300,opacity:.7},animate:{x:0,opacity:1,transition:{duration:.08,ease:[.77,0,.175,1]}},exit:{x:"next"===x?-300:300,opacity:.7,transition:{duration:.08,ease:[.77,0,.175,1]}},style:{width:"100%",height:"100%",position:"absolute",left:0,top:0,display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"center",willChange:"transform"},children:(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-3 w-full max-w-7xl mx-auto px-2 md:px-4",children:null===(t=O[o])||void 0===t?void 0:t.map((e,t)=>(0,a.jsx)("div",{className:"flex justify-center items-center",children:(0,a.jsx)("div",{className:"w-full max-w-xs",children:(0,a.jsx)(L,{dish:e.dish,size:"small",onClick:()=>{g(e.dish),p(!0)},fallbackImage:s.image,isPinned:v.has(e.dish.name),onPinToggle:()=>H(e.dish.name)})})},"".concat(e.dish.name,"-").concat(e.category,"-").concat(o,"-").concat(t)))})},o+"-"+Z)})}),(0,a.jsx)(y,{open:f,dish:h,onClose:()=>p(!1)}),(0,a.jsx)(M.M,{children:k&&(0,a.jsxs)(T.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] flex items-center justify-center",onClick:P,style:{cursor:"pointer"},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,a.jsxs)("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 max-w-sm mx-4 text-center",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)(T.E.div,{animate:{x:[-30,30,-30],rotate:[-5,5,-5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"text-5xl",children:"\uD83D\uDC46"})}),(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-200 text-lg font-medium mb-2",children:"Deslize para navegar"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Use o gesto de swipe para mudar de p\xe1gina"})]})]})}),(0,a.jsx)(M.M,{children:C&&(0,a.jsxs)(T.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300]",onClick:P,style:{cursor:"pointer"},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,a.jsx)("div",{className:"absolute top-1 left-1/2 transform -translate-x-1/2",style:{width:"calc(100vw - 64px)",maxWidth:"600px",height:"40px",border:"3px solid #06b6d4",borderRadius:"20px",boxShadow:"0 0 0 9999px rgba(0,0,0,0.5)",pointerEvents:"none"}}),(0,a.jsx)("div",{className:"absolute top-16 left-1/2 transform -translate-x-1/2 bg-white dark:bg-gray-800 rounded-xl shadow-xl p-4 text-center max-w-xs",children:(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-200 text-sm font-medium",children:"Aqui voc\xea pode navegar entre as categorias"})})]})}),(0,a.jsx)(M.M,{children:E&&(0,a.jsxs)(T.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300]",onClick:P,style:{cursor:"pointer"},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,a.jsx)("div",{className:"absolute",style:{top:"".concat(_.top-2,"px"),left:"".concat(_.left-2,"px"),width:"28px",height:"28px",border:"3px solid #06b6d4",borderRadius:"50%",boxShadow:"0 0 0 9999px rgba(0,0,0,0.5)",pointerEvents:"none"}}),(0,a.jsx)("div",{className:"absolute bg-white dark:bg-gray-800 rounded-xl shadow-xl p-4 text-center max-w-xs",style:{top:"".concat(_.top+40,"px"),left:"".concat(Math.max(20,Math.min(_.left-80,window.innerWidth-280)),"px")},children:(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-200 text-sm font-medium",children:"Aqui voc\xea pode fixar um prato para sempre visualizar ele enquanto navega entre o jornal"})})]})})]}):null}function I(e){let{searchTerm:t,onSearchTermChange:r,restaurant:n,restaurants:i,selectedCategory:o}=e,{t:c}=s(),[d,u]=(0,l.useState)(!1),[x,m]=(0,l.useState)(!1),[h,g]=(0,l.useState)(!1),[f,p]=(0,l.useState)(null),b=(0,l.useRef)(null),w=(0,l.useRef)(null),v=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(x)return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)};function e(e){v.current&&v.current.contains(e.target)||m(!1)}function t(e){"Escape"===e.key&&m(!1)}},[x]),(0,l.useEffect)(()=>{x&&b.current&&setTimeout(()=>{var e,t;null===(e=b.current)||void 0===e||e.focus(),null===(t=b.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"center"})},200)},[x]),(0,l.useEffect)(()=>{if(!v.current)return;let e=null===window.visualViewport?void 0:window.visualViewport,t=()=>{v.current&&(e?(v.current.style.maxHeight=e.height+"px",v.current.style.bottom=window.innerHeight-e.height-e.offsetTop+"px"):(v.current.style.maxHeight=window.innerHeight+"px",v.current.style.bottom="0px"))};return e?(e.addEventListener("resize",t),e.addEventListener("scroll",t)):window.addEventListener("resize",t),t(),()=>{e?(e.removeEventListener("resize",t),e.removeEventListener("scroll",t)):window.removeEventListener("resize",t)}},[x]);let j=t.trim().toLowerCase(),k=e=>e.name.toLowerCase().includes(j)||e.description.toLowerCase().includes(j)||e.tags&&e.tags.some(e=>e.toLowerCase().includes(j)),N=j?Array.from(new Set(n.menu_items.filter(k).map(e=>e.category))):[],C=j?n.menu_items.filter(e=>!!k(e)&&("all"===o||e.category===o)):[],S=j?i.filter(e=>e.id!==n.id).map(e=>({restaurant:e,items:e.menu_items.filter(k)})).filter(e=>e.items.length>0):[],[z,L]=(0,l.useState)(!1);return(0,a.jsxs)("div",{className:"fixed bottom-[max(1.5rem,env(safe-area-inset-bottom)+1.5rem)] right-[max(1.5rem,env(safe-area-inset-right)+1.5rem)] z-50 flex flex-col items-end gap-2",style:{transition:"bottom 0.2s"},children:[(0,a.jsx)("button",{className:"w-16 h-16 rounded-full bg-white/80 dark:bg-gray-900/80 border-2 border-white dark:border-gray-800 shadow-2xl backdrop-blur-md flex items-center justify-center transition-transform duration-150 hover:scale-110 active:scale-95 hover:shadow-3xl focus:outline-none group mb-2","data-tutorial":"journal-button",style:{WebkitBackdropFilter:"blur(12px)"},"aria-label":c("Modo jornal"),onClick:()=>L(!0),children:(0,a.jsx)(()=>(0,a.jsxs)("svg",{width:"40",height:"40",viewBox:"-6 -6 140 140",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"newspaper-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"#06b6d4",children:(0,a.jsx)("animate",{attributeName:"stop-color",values:"#06b6d4;#818cf8;#f472b6;#facc15;#06b6d4",dur:"2.5s",repeatCount:"indefinite"})}),(0,a.jsx)("stop",{offset:"100%",stopColor:"#facc15",children:(0,a.jsx)("animate",{attributeName:"stop-color",values:"#facc15;#06b6d4;#818cf8;#f472b6;#facc15",dur:"2.5s",repeatCount:"indefinite"})})]})}),(0,a.jsx)("path",{fill:"url(#newspaper-gradient)",d:"M55.211 83.321c-.129-.092-12.863-8.956-31.239-8.442a1.411 1.411 0 0 1-1.462-1.325v-.001a1.42 1.42 0 0 1 1.364-1.494c19.386-.57 32.415 8.565 32.976 8.965l-1.639 2.297zm0-9.985c-.129-.092-12.863-8.957-31.239-8.442a1.41 1.41 0 0 1-1.462-1.325 1.42 1.42 0 0 1 1.364-1.494c19.385-.561 32.414 8.565 32.975 8.964l-1.638 2.297zm0-9.984c-.129-.092-12.86-8.958-31.239-8.442a1.41 1.41 0 0 1-1.462-1.325 1.42 1.42 0 0 1 1.364-1.494c19.385-.564 32.415 8.564 32.975 8.964l-1.638 2.297zm0-9.986c-.129-.092-12.862-8.961-31.239-8.442a1.412 1.412 0 0 1-1.463-1.325 1.42 1.42 0 0 1 1.364-1.494c19.385-.566 32.415 8.565 32.975 8.964l-1.637 2.297zm0-9.985c-.129-.092-12.862-8.962-31.239-8.442a1.412 1.412 0 0 1-1.463-1.325 1.42 1.42 0 0 1 1.364-1.494c19.385-.568 32.415 8.565 32.976 8.964l-1.638 2.297zM71.825 83.32l-1.639-2.296c.561-.398 13.595-9.518 32.975-8.963a1.419 1.419 0 0 1 1.364 1.493v.001a1.411 1.411 0 0 1-1.462 1.325c-18.444-.519-31.11 8.348-31.238 8.44zm0-9.985-1.639-2.296c.561-.398 13.595-9.52 32.975-8.964a1.419 1.419 0 0 1 1.364 1.493 1.41 1.41 0 0 1-1.462 1.325c-18.412-.525-31.11 8.35-31.238 8.442zm-.001-9.983-1.638-2.297c.559-.399 13.586-9.533 32.976-8.964a1.418 1.418 0 0 1 1.363 1.493v.001a1.41 1.41 0 0 1-1.462 1.325c-18.392-.52-31.11 8.35-31.239 8.442zm.001-9.987-1.639-2.296c.561-.399 13.595-9.524 32.975-8.964a1.42 1.42 0 0 1 1.364 1.493 1.411 1.411 0 0 1-1.463 1.325c-18.443-.528-31.109 8.351-31.237 8.442zm0-9.985-1.639-2.296c.561-.399 13.595-9.513 32.975-8.963a1.417 1.417 0 0 1 1.364 1.493 1.41 1.41 0 0 1-1.462 1.325c-18.444-.524-31.11 8.35-31.238 8.441zm39.519-22.105v5.007h.014v-5.007h-.014zm4.245-.635v-3.484l-2.045-.07c-28.756-.945-45.807 10.027-49.939 13.06-4.132-3.018-21.169-13.99-49.939-13.06l-2.045.07v3.484H0v86.241h54.65c1.664 2.426 5.218 4.09 9.35 4.09s7.7-1.664 9.364-4.09H128V20.64h-12.411zM5.641 101.24V26.282h5.98v66.919l2.172-.07c.24 0 22.354-.465 40.377 8.109H5.641zm55.454-1.1C44.453 90.112 22.748 88.984 15.852 88.9V21.275c25.992-.367 41.703 9.745 45.243 12.284v66.581zm4.231.493V34.109l.028.028c.169-.141 16.303-13.172 45.99-12.862h.014V88.9c-7.009.098-29.292 1.241-46.032 11.733zm57.033.607H73.04c18.01-8.561 40.123-8.109 40.377-8.109l2.172.056V26.282h6.77v74.958z"})]}),{})}),(0,a.jsx)("button",{ref:w,className:"w-16 h-16 rounded-full bg-white/80 dark:bg-gray-900/80 border-2 border-white dark:border-gray-800 shadow-2xl backdrop-blur-md flex items-center justify-center transition-transform duration-150 hover:scale-110 active:scale-95 hover:shadow-3xl focus:outline-none group","data-tutorial":"search-button",style:{WebkitBackdropFilter:"blur(12px)"},"aria-label":c("search"),onClick:()=>m(!0),children:(0,a.jsxs)("svg",{width:"34",height:"34",viewBox:"0 0 24 24",fill:"none",style:{display:"block"},children:[(0,a.jsxs)("defs",{children:[(0,a.jsxs)("linearGradient",{id:"lupa-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"#06b6d4",children:(0,a.jsx)("animate",{attributeName:"stop-color",values:"#06b6d4;#818cf8;#f472b6;#facc15;#06b6d4",dur:"2.5s",repeatCount:"indefinite"})}),(0,a.jsx)("stop",{offset:"100%",stopColor:"#facc15",children:(0,a.jsx)("animate",{attributeName:"stop-color",values:"#facc15;#06b6d4;#818cf8;#f472b6;#facc15",dur:"2.5s",repeatCount:"indefinite"})})]}),(0,a.jsxs)("clipPath",{id:"lupa-clip",children:[(0,a.jsx)("circle",{cx:"10.5",cy:"10.5",r:"7"}),(0,a.jsx)("rect",{x:"15.5",y:"15.5",width:"7",height:"2.5",rx:"1.25",transform:"rotate(-45 15.5 15.5)"})]})]}),(0,a.jsx)("rect",{width:"24",height:"24",fill:""}),(0,a.jsx)("g",{clipPath:"url(#lupa-clip)",children:(0,a.jsx)("rect",{width:"24",height:"24",fill:""})}),(0,a.jsx)("circle",{cx:"10.5",cy:"10.5",r:"7",stroke:"url(#lupa-gradient)",strokeWidth:"2.5",fill:""}),(0,a.jsx)("line",{x1:"21",y1:"21",x2:"15.5",y2:"15.5",stroke:"url(#lupa-gradient)",strokeWidth:"2.5",strokeLinecap:"round"})]})}),x&&(0,a.jsx)("div",{className:"fixed inset-0 z-[100] flex items-end justify-center bg-black/30 backdrop-blur-sm",children:(0,a.jsxs)("div",{ref:v,className:"fixed bottom-0 left-0 w-full max-w-lg bg-white dark:bg-gray-900 rounded-t-3xl shadow-2xl p-0 pt-0 pb-0 relative flex flex-col items-center",style:{right:0,margin:"0 auto"},children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full z-20 bg-white dark:bg-gray-900 p-4 pt-6 rounded-t-3xl",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{ref:b,type:"text",placeholder:c("search"),className:"block w-full h-14 px-5 rounded-full bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 shadow text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none text-lg",value:t,onChange:e=>r(e.target.value)}),(0,a.jsx)("button",{"aria-label":c("close"),onClick:()=>{m(!1),r("")},className:"ml-2 flex items-center justify-center w-12 h-12 rounded-full bg-transparent text-gray-600 dark:text-gray-300 text-2xl focus:outline-none focus:ring-2 focus:ring-cyan-500",type:"button",style:{background:"none",boxShadow:"none",border:"none"},children:(0,a.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,a.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}),(0,a.jsxs)("div",{className:"w-full pt-[88px] px-4 pb-8 max-h-[80vh] overflow-y-auto",children:[j&&N.length>0&&(0,a.jsx)("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-900 px-0 pt-3 pb-2",children:(0,a.jsxs)("div",{className:"flex flex-nowrap overflow-x-auto whitespace-nowrap gap-2 max-w-full pl-1 pr-4 scrollbar-thin",style:{WebkitOverflowScrolling:"touch",overflowY:"hidden",minWidth:0,paddingBottom:8},children:[(0,a.jsx)("button",{className:"px-4 py-2 rounded-lg text-sm font-medium ring-0 ".concat("all"===o?"bg-primary text-white dark:bg-cyan-700 ring-cyan-500":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 ring-transparent"),onClick:()=>r(""),children:"Todos"},"all"),N.map(e=>(0,a.jsx)("button",{className:"px-4 py-2 rounded-lg text-sm font-medium ring-0 ".concat(o===e?"bg-primary text-white dark:bg-cyan-700 ring-cyan-500":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 ring-transparent"),onClick:()=>r(e),children:e},e))]})}),j&&(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[C.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1",children:n.name}),(0,a.jsx)("div",{className:"flex flex-col gap-3 items-center w-full",children:C.map(e=>(0,a.jsx)("div",{className:"w-full flex justify-center",onClick:()=>{p(e),g(!0)},children:(0,a.jsx)("div",{className:"w-full max-w-lg",children:(0,a.jsx)(E,{dish:e,size:"large",fallbackImage:n.image})})},e.name+e.category))})]}),S.length>0&&S.map(e=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"my-8 flex items-center w-full gap-4",children:[(0,a.jsx)("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-700"}),(0,a.jsx)("span",{className:"px-4 text-lg font-bold text-gray-700 dark:text-gray-200 text-center whitespace-nowrap",children:e.restaurant.name}),(0,a.jsx)("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-700"})]}),(0,a.jsx)("div",{className:"flex flex-col gap-3 items-center w-full",children:e.items.map(t=>(0,a.jsx)("div",{className:"w-full flex justify-center",onClick:()=>{p(t),g(!0)},children:(0,a.jsx)("div",{className:"w-full max-w-lg",children:(0,a.jsx)(E,{dish:t,size:"large",fallbackImage:e.restaurant.image})})},t.name+t.category))})]},e.restaurant.id)),0===C.length&&0===S.length&&(0,a.jsx)("div",{className:"text-center text-gray-400 text-sm py-6",children:c("Nenhum resultado encontrado")})]})]})]})}),(0,a.jsx)(_,{open:z,onClose:()=>L(!1),restaurant:n,selectedCategory:o}),(0,a.jsx)(y,{open:h,dish:f,onClose:()=>g(!1)})]})}function W(e){let{categories:t,menuItems:r,onSelectCategory:l,fallbackImage:n}=e,s=t.filter(e=>r.some(t=>t.category===e)),i=(0,a.jsx)(B,{category:"Todos",images:[n],onClick:()=>l("all"),fallbackImage:n},"all");return(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 px-4 pt-4 pb-8",children:[s.map(e=>{let t=r.filter(t=>t.category===e).map(e=>e.image||n),s=t.length>0?t:[n];return(0,a.jsx)(B,{category:e,images:s,onClick:()=>l(e),fallbackImage:n},e)}),i]})}function B(e){let{category:t,images:r,onClick:n,fallbackImage:s}=e,[i,o]=(0,l.useState)(0),[c,d]=(0,l.useState)(null),[u,x]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(r.length<=1)return;let e=setInterval(()=>{let e=(i+1)%r.length;d(e),x(!0),setTimeout(()=>{o(e),x(!1),d(null)},2e3)},4e3);return()=>clearInterval(e)},[r.length,i]);let m=r[i]||s,h=null!==c?r[c]||s:null;return(0,a.jsxs)("button",{onClick:n,className:"jsx-4d32c41d41e9e1cd relative aspect-square rounded-2xl overflow-hidden shadow-lg group focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-gray-100 dark:bg-gray-800",children:[(0,a.jsx)("img",{src:m,alt:t,draggable:!1,onError:e=>e.currentTarget.src=s,className:"jsx-4d32c41d41e9e1cd object-cover w-full h-full absolute inset-0 z-0"}),u&&h&&(0,a.jsx)("img",{src:h,alt:t,style:{animation:"fadein 1s forwards"},draggable:!1,onError:e=>e.currentTarget.src=s,className:"jsx-4d32c41d41e9e1cd object-cover w-full h-full absolute inset-0 z-10 transition-opacity duration-1000 opacity-0 animate-fadein"}),(0,a.jsx)("div",{className:"jsx-4d32c41d41e9e1cd absolute inset-0 bg-black/40 flex items-center justify-center z-20",children:(0,a.jsx)("span",{className:"jsx-4d32c41d41e9e1cd text-white text-xl md:text-2xl font-bold drop-shadow-lg text-center px-2",children:t})}),(0,a.jsx)(N(),{id:"4d32c41d41e9e1cd",children:"@-webkit-keyframes fadein{from{opacity:0}to{opacity:1}}@-moz-keyframes fadein{from{opacity:0}to{opacity:1}}@-o-keyframes fadein{from{opacity:0}to{opacity:1}}@keyframes fadein{from{opacity:0}to{opacity:1}}"})]})}let R=e=>[...e?[{selector:'[data-tutorial="restaurant-switch"]',text:"Aqui voc\xea pode trocar de restaurante.",arrow:"down"}]:[],{selector:'[data-tutorial="carousel"]',text:"Aqui est\xe3o os pratos em destaque do restaurante.",arrow:"down"}],P=[{selector:'[data-tutorial="journal-button"]',text:"Aqui voc\xea acessa o modo jornal e visualizar mais itens por p\xe1gina.",arrow:"left"},{selector:'[data-tutorial="search-button"]',text:"Aqui voc\xea pode buscar pratos ou ingredientes rapidamente.",arrow:"left"}];function A(e){let{onDone:t}=e,r=(0,i.useSearchParams)().has("multiple"),n=l.useMemo(()=>R(r),[r]),[s,o]=l.useState(0),[c,d]=l.useState(!1),[u,x]=l.useState(!1),[m,h]=l.useState({top:0,left:0,width:0,height:0}),[g,f]=l.useState([]),p=()=>{g.forEach(e=>clearTimeout(e)),f([])};if(l.useEffect(()=>{localStorage.getItem("gridTutorialDone")||d(!0),x(!0)},[]),l.useEffect(()=>{if(!c||s>=n.length)return;let e=document.querySelector(n[s].selector);if(e){let t=e.getBoundingClientRect();h({top:t.top,left:t.left,width:t.width,height:t.height})}return f([setTimeout(()=>{s<n.length-1?o(s+1):(d(!1),localStorage.setItem("gridTutorialDone","1"),t())},5e3)]),()=>{p()}},[s,c,n,t]),!u||!c||s>=n.length)return null;let b=m.left,y="down"===n[s].arrow?m.top+m.height+16:m.top;if("left"===n[s].arrow){if(0===s){if((b=Math.max(8,m.left+m.width/2-130))+260>window.innerWidth-8){let e=m.left+m.width+12;if(e+260<=window.innerWidth-8)b=e;else{let e=m.left-260-12;b=e>=8?e:8}}}else m.left+m.width+260+12>window.innerWidth?(b=m.left-260-12)<0&&(b=Math.max(0,window.innerWidth/2-130)):b=m.left+m.width+12}return y+120>window.innerHeight&&(y=Math.max(0,window.innerHeight-140)),(0,a.jsxs)("div",{className:"fixed inset-0 z-[9999]",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/60 pointer-events-auto",onClick:()=>{(p(),s<n.length-1)?o(s+1):(d(!1),localStorage.setItem("gridTutorialDone","1"),t())},style:{cursor:"pointer",zIndex:9999}}),(0,a.jsxs)("div",{className:"pointer-events-none",children:[(0,a.jsx)("div",{style:{position:"absolute",top:m.top-8,left:m.left-8,width:m.width+16,height:m.height+16,borderRadius:16,border:"3px solid #06b6d4",boxShadow:"0 0 0 9999px rgba(0,0,0,0.5)",pointerEvents:"none"}}),(0,a.jsxs)("div",{style:{position:"absolute",top:y,left:b,width:260,zIndex:1e4},className:"bg-white dark:bg-gray-900 rounded-xl shadow-xl p-4 text-gray-900 dark:text-gray-100 animate-fade-in",children:[(0,a.jsx)("div",{className:"mb-2",children:n[s].text}),(0,a.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"Clique para pular."})]})]})]})}function F(e){let{onDone:t}=e,[r,n]=l.useState(0),[s,i]=l.useState(!1),[o,c]=l.useState(!1),[d,u]=l.useState({top:0,left:0,width:0,height:0}),[x,m]=l.useState([]),h=()=>{x.forEach(e=>clearTimeout(e)),m([])};if(l.useEffect(()=>{localStorage.getItem("journalTutorialDone")||i(!0),c(!0)},[]),l.useEffect(()=>{if(!s||r>=P.length)return;let e=document.querySelector(P[r].selector);if(e){let t=e.getBoundingClientRect();u({top:t.top,left:t.left,width:t.width,height:t.height})}return m([setTimeout(()=>{r<P.length-1?n(r+1):(i(!1),localStorage.setItem("journalTutorialDone","1"),t())},4e3)]),()=>{h()}},[r,s,P,t]),!o||!s||r>=P.length)return null;let g=d.left,f="down"===P[r].arrow?d.top+d.height+16:d.top;if("left"===P[r].arrow){if(0===r){if((g=Math.max(8,d.left+d.width/2-130))+260>window.innerWidth-8){let e=d.left+d.width+12;if(e+260<=window.innerWidth-8)g=e;else{let e=d.left-260-12;g=e>=8?e:8}}}else d.left+d.width+260+12>window.innerWidth?(g=d.left-260-12)<0&&(g=Math.max(0,window.innerWidth/2-130)):g=d.left+d.width+12}return f+120>window.innerHeight&&(f=Math.max(0,window.innerHeight-140)),(0,a.jsxs)("div",{className:"fixed inset-0 z-[9999]",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/60 pointer-events-auto",onClick:()=>{(h(),r<P.length-1)?n(r+1):(i(!1),localStorage.setItem("journalTutorialDone","1"),t())},style:{cursor:"pointer",zIndex:9999}}),(0,a.jsxs)("div",{className:"pointer-events-none",children:[(0,a.jsx)("div",{style:{position:"absolute",top:d.top-8,left:d.left-8,width:d.width+16,height:d.height+16,borderRadius:16,border:"3px solid #06b6d4",boxShadow:"0 0 0 9999px rgba(0,0,0,0.5)",pointerEvents:"none"}}),(0,a.jsxs)("div",{style:{position:"absolute",top:f,left:g,width:260,zIndex:1e4},className:"bg-white dark:bg-gray-900 rounded-xl shadow-xl p-4 text-gray-900 dark:text-gray-100 animate-fade-in",children:[(0,a.jsx)("div",{className:"mb-2",children:P[r].text}),(0,a.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"Clique para pular"})]})]})]})}function H(e){var t;let{initialRestaurant:r,restaurants:n}=e,[s,i]=(0,l.useState)(r.id),[o,c]=(0,l.useState)(""),[d,u]=(0,l.useState)("grid"),[x,m]=(0,l.useState)("all"),[h,g]=(0,l.useState)({field:"default",direction:"asc"}),f=null!==(t=n.find(e=>e.id===s))&&void 0!==t?t:r,b=l.useRef(null);(0,l.useEffect)(()=>{u("grid"),m("all"),c("")},[s]);let[y,w]=l.useState(!1),[v,k]=l.useState(!1);return(0,a.jsxs)("div",{className:"min-h-screen bg-white dark:bg-black text-gray-900 dark:text-gray-100",children:[(0,a.jsxs)(l.Suspense,{fallback:null,children:[!y&&(0,a.jsx)(A,{onDone:()=>w(!0)}),"list"===d&&!v&&(0,a.jsx)(F,{onDone:()=>k(!0)})]}),(0,a.jsx)(p,{restaurant:f,restaurants:n,selectedRestaurantId:s,onSelectRestaurant:i,currentSort:"list"===d?h:void 0,onSortChange:"list"===d?g:void 0,"data-tutorial":"restaurant-switch"}),(0,a.jsx)("div",{ref:b}),"grid"===d?(0,a.jsx)(j,{restaurant:f,"data-tutorial":"carousel"}):(()=>{let e="all"===x?f.featured_dishes:f.featured_dishes.filter(e=>e.category===x);if(!e||0===e.length)return null;let t={...f,featured_dishes:e};return(0,a.jsx)(j,{restaurant:t,"data-tutorial":"carousel",showMostOrderedTitle:"all"!==x})})(),"grid"===d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center px-4 mt-4",style:{marginBottom:"0.2em"},children:[(0,a.jsx)("div",{className:"flex-1 border-t border-gray-300 dark:border-gray-700",style:{marginTop:"0.2em"}}),(0,a.jsx)("span",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mx-3 whitespace-nowrap text-center",children:"Categorias"}),(0,a.jsx)("div",{className:"flex-1 border-t border-gray-300 dark:border-gray-700",style:{marginTop:"0.2em"}})]}),(0,a.jsx)(W,{categories:f.menu_categories,menuItems:f.menu_items,onSelectCategory:e=>{m(e),u("list"),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},0)},fallbackImage:f.image})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z,{menuItems:f.menu_items,categories:f.menu_categories,searchTerm:o,fallbackImage:f.image,activeCategory:x,setActiveCategory:m,onGridClick:()=>{u("grid"),m("all")},currentSort:h,onSortChange:g}),(0,a.jsx)(I,{restaurant:f,restaurants:n,searchTerm:o,onSearchTermChange:c,selectedCategory:x,"data-tutorial-search":!0})]})]})}},628:function(e,t,r){r.d(t,{AccessibilityProvider:function(){return s},H:function(){return i}});var a=r(7437),l=r(2265);let n=(0,l.createContext)(void 0);function s(e){let{children:t}=e,[r,s]=(0,l.useState)("normal");return(0,l.useEffect)(()=>{let e=localStorage.getItem("accessibility-font-size");e&&s(e)},[]),(0,l.useEffect)(()=>{let e=document.documentElement;e.classList.remove("font-normal","font-large","font-extra-large"),e.classList.add("font-".concat(r)),localStorage.setItem("accessibility-font-size",r)},[r]),(0,a.jsx)(n.Provider,{value:{fontSize:r,increaseFontSize:()=>{s(e=>"normal"===e?"large":"extra-large")},decreaseFontSize:()=>{s(e=>"extra-large"===e?"large":"normal")},resetFontSize:()=>{s("normal")}},children:t})}function i(){let e=(0,l.useContext)(n);if(void 0===e)throw Error("useAccessibility must be used within an AccessibilityProvider");return e}}}]);