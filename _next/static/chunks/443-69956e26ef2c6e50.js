"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[443],{4443:function(e,t,a){a.d(t,{default:function(){return X}});var r=a(7437),n=a(2265);let l={search:"Buscar...",searchCategory:"Busca",all:"Todos",share:"Compartilhar",close:"Fechar",ingredients:"Ingredientes",allergens:"Al\xe9rgenos",portion:"Por\xe7\xe3o",price:"Pre\xe7o","Menu Principal":"Menu Principal",Sobremesas:"Sobremesas",Bebidas:"Bebidas","Carta de Drinks":"Carta de Drinks",Destilados:"Destilados","Carta de Vinhos":"Carta de Vinhos","Menu Executivo":"Menu Executivo","Happy hour":"Happy hour","Sunset Moendo":"Sunset Moendo","Couver artistico":"Couver art\xedstico",Sushi:"Sushi",Sashimi:"Sashimi",Temaki:"Temaki",Ramen:"Ramen",Udon:"Udon","Bebidas Japonesas":"Bebidas Japonesas","Pratos Principais":"Pratos Principais",Sopas:"Sopas",Entradas:"Entradas","Bebidas Chinesas":"Bebidas Chinesas",Bibimbap:"Bibimbap",Kimchi:"Kimchi","Bebidas Coreanas":"Bebidas Coreanas"};function i(){return{t:e=>l[e]||e}}var s=a(9376),o=a(8783);function c(e){let{open:t,onClose:a,currentSort:l,onSortChange:i}=e,[s,c]=(0,n.useState)(!1);(0,n.useEffect)(()=>{t&&c(!1)},[t]),(0,o.y)(t);let d=()=>{c(!0),setTimeout(()=>{a(),c(!1)},250)};if(!t)return null;let u=(e,t)=>{i({field:e,direction:t}),d()};return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center transition-all duration-300 ".concat(s?"animate-menu-backdrop-close":"animate-menu-backdrop-open"),style:{background:s?"rgba(0, 0, 0, 0.3)":"rgba(0, 0, 0, 0.5)",backdropFilter:s?"blur(1.5px)":"blur(3px)"},children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 mx-4 max-w-sm w-full shadow-xl menu-transition ".concat(s?"animate-sort-modal-close":"animate-sort-modal-open"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6 transform transition-all duration-300 delay-25",style:{animation:s?"none":"fadeInUp 0.4s ease-out forwards"},children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Ordenar por"}),(0,r.jsx)("button",{onClick:d,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-all duration-200 hover:scale-110 active:scale-95 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2 transform transition-all duration-300 delay-75",style:{animation:s?"none":"fadeInUp 0.4s ease-out forwards"},children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Ordena\xe7\xe3o"}),(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsx)("button",{onClick:()=>u("default","asc"),className:"flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all duration-200 hover:scale-105 active:scale-95 ".concat("default"===l.field?"bg-cyan-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:"Padr\xe3o"})})]}),(0,r.jsxs)("div",{className:"space-y-2 transform transition-all duration-300 delay-150",style:{animation:s?"none":"fadeInUp 0.4s ease-out forwards"},children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Nome"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>u("name","asc"),className:"flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all duration-200 hover:scale-105 active:scale-95 ".concat("name"===l.field&&"asc"===l.direction?"bg-cyan-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:"A → Z"}),(0,r.jsx)("button",{onClick:()=>u("name","desc"),className:"flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all duration-200 hover:scale-105 active:scale-95 ".concat("name"===l.field&&"desc"===l.direction?"bg-cyan-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:"Z → A"})]})]}),(0,r.jsxs)("div",{className:"space-y-2 transform transition-all duration-300 delay-200",style:{animation:s?"none":"fadeInUp 0.4s ease-out forwards"},children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Pre\xe7o"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>u("price","asc"),className:"flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all duration-200 hover:scale-105 active:scale-95 ".concat("price"===l.field&&"asc"===l.direction?"bg-cyan-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:"Menor → Maior"}),(0,r.jsx)("button",{onClick:()=>u("price","desc"),className:"flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all duration-200 hover:scale-105 active:scale-95 ".concat("price"===l.field&&"desc"===l.direction?"bg-cyan-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:"Maior → Menor"})]})]})]})]})})}function d(e){let{currentSort:t,onSortChange:a}=e,[l,i]=(0,n.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>i(!0),className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-500 hover:bg-gray-600 transition-colors duration-200 shadow-lg text-white","aria-label":"Ordenar pratos",title:"Ordenar pratos",children:(()=>{let e=(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})});return"default"===t.field?(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}):"name"===t.field?(t.direction,(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})})):"price"===t.field?(t.direction,(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})):e})()}),(0,r.jsx)(c,{open:l,onClose:()=>i(!1),currentSort:t,onSortChange:a})]})}var u=a(8386);function m(){let{fontSize:e,increaseFontSize:t,decreaseFontSize:a,resetFontSize:l,theme:i,setTheme:s}=(0,u.H)(),[c,d]=(0,n.useState)(!1),[m,x]=(0,n.useState)(!1),h=(0,n.useRef)(null),g=(0,n.useRef)(null);(0,n.useEffect)(()=>{function e(e){h.current&&!h.current.contains(e.target)&&g.current&&!g.current.contains(e.target)&&d(!1)}return c&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[c]),(0,o.y)(c);let f=e=>{s(e)};return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{ref:g,type:"button",onClick:()=>{c?(x(!0),setTimeout(()=>{d(!1),x(!1)},250)):d(!0)},className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-500 hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700 transition-all duration-200 shadow-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-300 dark:focus:ring-blue-400 focus:ring-offset-2 hover:scale-110 active:scale-95 hover:shadow-xl","aria-label":"Configura\xe7\xf5es de acessibilidade",title:"Configura\xe7\xf5es de acessibilidade","aria-expanded":c,children:(0,r.jsxs)("div",{className:"w-4 h-4 flex items-center justify-center font-bold text-xs text-white",children:[(0,r.jsx)("span",{className:"text-xs text-white",children:"a"}),(0,r.jsx)("span",{className:"text-sm text-white",children:"A"})]})}),c&&(0,r.jsxs)("div",{ref:h,className:"accessibility-menu fixed bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-100 dark:border-gray-700 p-4 min-w-[280px] max-w-[320px] menu-transition ".concat(m?"animate-accessibility-menu-close":"animate-accessibility-menu-open"),style:{zIndex:999999999,position:"fixed",top:"80px",left:"16px",right:"16px",maxWidth:"calc(100vw - 32px)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4 transform transition-all duration-300 delay-25",style:{animation:m?"none":"fadeInUp 0.4s ease-out forwards"},children:[(0,r.jsx)("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Acessibilidade"}),(0,r.jsx)("button",{type:"button",onClick:()=>{x(!0),setTimeout(()=>{d(!1),x(!1)},250)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-all duration-200 hover:scale-110 active:scale-95 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Fechar menu",style:{visibility:"visible",opacity:1,display:"block",pointerEvents:"auto",zIndex:999999999,background:"transparent",border:"none",padding:"0",margin:"0",width:"24px",height:"24px"},children:(0,r.jsx)("svg",{className:"w-6 h-6 text-gray-400 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{visibility:"visible",opacity:1,display:"block",width:"24px",height:"24px"},children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"mb-4 transform transition-all duration-300 delay-75",style:{animation:m?"none":"fadeInUp 0.4s ease-out forwards"},children:[(0,r.jsx)("h4",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-3 uppercase tracking-wide",children:"Tamanho da fonte"}),(0,r.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{a()},disabled:"normal"===e,className:"flex-1 flex items-center justify-center px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2 ".concat("normal"===e?"bg-gray-50 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 hover:shadow-md active:bg-gray-200 dark:active:bg-gray-500 hover:scale-105 active:scale-95"),"aria-label":"Diminuir tamanho da fonte",children:(0,r.jsx)("span",{className:"text-xs",children:"Diminuir"})}),(0,r.jsx)("button",{type:"button",onClick:()=>{t()},disabled:"extra-large"===e,className:"flex-1 flex items-center justify-center px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2 ".concat("extra-large"===e?"bg-gray-50 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 hover:shadow-md active:bg-gray-200 dark:active:bg-gray-500 hover:scale-105 active:scale-95"),"aria-label":"Aumentar tamanho da fonte",children:(0,r.jsx)("span",{className:"text-xs",children:"Aumentar"})}),(0,r.jsx)("button",{type:"button",onClick:()=>{l()},className:"flex-1 flex items-center justify-center px-3 py-2 rounded-lg text-xs font-medium bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2 hover:shadow-md active:bg-gray-200 dark:active:bg-gray-500 hover:scale-105 active:scale-95","aria-label":"Restaurar tamanho padr\xe3o da fonte",children:(0,r.jsx)("span",{className:"text-xs",children:"Padr\xe3o"})})]}),(0,r.jsx)("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-100 dark:border-blue-800",children:(0,r.jsxs)("div",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium text-center",children:["Tamanho atual: ",(0,r.jsx)("span",{className:"font-semibold",children:(()=>{switch(e){case"normal":default:return"Normal";case"large":return"Grande";case"extra-large":return"Extra Grande"}})()})]})})]}),(0,r.jsxs)("div",{className:"mb-4 transform transition-all duration-300 delay-150",style:{animation:m?"none":"fadeInUp 0.4s ease-out forwards"},children:[(0,r.jsx)("h4",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-3 uppercase tracking-wide",children:"Tema"}),(0,r.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>f("light"),className:"flex-1 flex items-center justify-center px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2 ".concat("light"===i?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border-2 border-blue-200 dark:border-blue-800":"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 hover:shadow-md active:bg-gray-200 dark:active:bg-gray-500 hover:scale-105 active:scale-95"),"aria-label":"Aplicar tema claro",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-400 border border-yellow-500"}),(0,r.jsx)("span",{className:"text-xs",children:"Claro"})]})}),(0,r.jsx)("button",{type:"button",onClick:()=>f("dark"),className:"flex-1 flex items-center justify-center px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2 ".concat("dark"===i?"bg-blue-600 dark:bg-blue-700 text-white border-2 border-blue-500 dark:border-blue-600":"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 hover:shadow-md active:bg-gray-200 dark:active:bg-gray-500 hover:scale-105 active:scale-95"),"aria-label":"Aplicar tema escuro",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-gray-700 dark:bg-gray-300 border border-gray-600 dark:border-gray-400"}),(0,r.jsx)("span",{className:"text-xs",children:"Escuro"})]})}),(0,r.jsx)("button",{type:"button",onClick:()=>f("system"),className:"flex-1 flex items-center justify-center px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2 ".concat("system"===i?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border-2 border-blue-200 dark:border-blue-800":"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 hover:shadow-md active:bg-gray-200 dark:active:bg-gray-500 hover:scale-105 active:scale-95"),"aria-label":"Usar prefer\xeancia do sistema",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-yellow-400 to-gray-700 border border-gray-400"}),(0,r.jsx)("span",{className:"text-xs",children:"Sistema"})]})})]}),(0,r.jsx)("div",{className:"p-2 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-100 dark:border-gray-600",children:(0,r.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium text-center",children:["Tema atual: ",(0,r.jsx)("span",{className:"font-semibold",children:(()=>{switch(i){case"light":return"Claro";case"dark":return"Escuro";default:return"Sistema"}})()})]})})]})]})]})}var x=a(2530),h=a(1057);function g(e){let{name:t}=e,[a,l]=(0,n.useState)(null),[i,s]=(0,n.useState)("text-xl"),[o,c]=(0,n.useState)(!1);(0,n.useEffect)(()=>{a&&t&&(s("text-xl"),c(!1),setTimeout(()=>{a&&a.scrollHeight>48&&(s("text-lg"),setTimeout(()=>{if(a.scrollHeight>48){let e=Math.floor(t.length*(48/a.scrollHeight));t.length-e>10?c(!0):s("text-base")}},10))},10))},[t,a]);let d="\n    logo font-bold text-gray-900 dark:text-white text-center max-w-full\n    ".concat(i,"\n    ").concat(o?"line-clamp-2":"leading-tight","\n  ").trim();return(0,r.jsx)("h1",{ref:l,className:d,style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:o?2:"unset",overflow:o?"hidden":"visible",lineHeight:"text-base"===i?"1.25":"1.2"},children:t})}let f=()=>{let e=/iPad|iPhone|iPod/.test(navigator.userAgent),t=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&/iPad|iPhone|iPod/.test(navigator.userAgent),a="MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;return e||t||a},p=async e=>{let t=window.location.href.split("#")[0],a={title:"Card\xe1pio - ".concat(e.name),text:"Confira o card\xe1pio do ".concat(e.name,"!"),url:t};if(f()){if("https:"!==window.location.protocol&&"localhost"!==window.location.hostname){alert("Para compartilhar, acesse o site via HTTPS");return}try{await navigator.share(a);return}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;try{await navigator.share({url:a.url});return}catch(e){if(e instanceof Error&&"AbortError"===e.name)return}}}if(navigator.share)try{await navigator.share(a);return}catch(e){if(e instanceof Error&&"AbortError"===e.name)return}try{if(navigator.clipboard&&navigator.clipboard.writeText){await navigator.clipboard.writeText(a.url),alert("Link copiado para a \xe1rea de transfer\xeancia!");return}}catch(e){}try{let e=document.createElement("textarea");e.value=a.url,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select();let t=document.execCommand("copy");if(document.body.removeChild(e),t){alert("Link copiado para a \xe1rea de transfer\xeancia!");return}}catch(e){}alert("N\xe3o foi poss\xedvel compartilhar automaticamente. Copie este link: ".concat(a.url))};function b(e){let{restaurant:t}=e,[a,l]=(0,n.useState)(!1),i=async()=>{if(t){l(!0);try{await p(t)}finally{l(!1)}}};return t?(0,r.jsx)("button",{onClick:i,disabled:a,className:"flex items-center justify-center w-8 h-8 rounded-full bg-cyan-500 hover:bg-cyan-600 disabled:bg-cyan-400 transition-colors duration-200 shadow-lg","aria-label":"Compartilhar card\xe1pio",title:"Compartilhar card\xe1pio",children:a?(0,r.jsxs)("svg",{className:"w-4 h-4 text-white animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,r.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})}):null}function y(e){let{restaurant:t,restaurants:a,selectedRestaurantId:n,onSelectRestaurant:l,currentSort:s,onSortChange:o}=e,{t:c}=i();return(0,r.jsx)("header",{className:"header bg-white dark:bg-black p-0 m-0 h-[60px] flex items-center shadow-sm relative z-10",children:(0,r.jsxs)("div",{className:"container mx-auto flex items-center px-4 m-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 w-20",children:[(0,r.jsx)(m,{}),s&&o&&(0,r.jsx)(d,{currentSort:s,onSortChange:o})]}),(0,r.jsx)("div",{className:"flex-1 px-2 flex items-center justify-center",children:(0,r.jsx)(g,{name:(null==t?void 0:t.name)||""})}),t&&(0,r.jsxs)("div",{className:"flex items-center gap-2 w-20 justify-end",children:[(0,r.jsx)(b,{restaurant:t}),(0,r.jsx)(h.g,{})]})]})})}var v=a(1220);function w(e){let{allCategories:t,activeCategory:a,setActiveCategory:l,t:i,menuItems:s,fallbackImage:o,onGridClick:c,isHome:d=!1}=e,u=(0,n.useRef)(null),m=(0,n.useRef)([]),x=(0,n.useMemo)(()=>{let e={};return t.forEach(t=>{e[t]=i(t)}),e.all=i("Todos"),e},[t,i]),h=(0,n.useMemo)(()=>{let e={};return t.forEach(t=>{let a=s.filter(e=>e.categories&&e.categories.includes(t));e[t]=a.length>0?a.map(e=>e.image||o):[o]}),e.all=[o],e},[t,s,o]);(0,n.useEffect)(()=>{let e=setTimeout(()=>{Object.values(h).flat().forEach(e=>{e&&e!==o&&(new window.Image().src=e)})},100);return()=>clearTimeout(e)},[h,o]);let g=n.useRef(null);n.useEffect(()=>{let e=u.current;if(!e)return;let t=!1;function a(e){1===e.touches.length&&(g.current={x:e.touches[0].clientX,y:e.touches[0].clientY},t=!1)}function r(e){if(!g.current)return;let a=Math.abs(e.touches[0].clientX-g.current.x),r=Math.abs(e.touches[0].clientY-g.current.y);if(!t&&r>a){g.current=null;return}}return e.addEventListener("touchstart",a,{passive:!0}),e.addEventListener("touchmove",r,{passive:!0}),()=>{e.removeEventListener("touchstart",a),e.removeEventListener("touchmove",r)}},[]);let f=n.useRef(null);(0,n.useEffect)(()=>{let e=u.current;if(e)return e.addEventListener("touchstart",r,{passive:!0}),e.addEventListener("touchend",n,{passive:!0}),()=>{e.removeEventListener("touchstart",r),e.removeEventListener("touchend",n)};function r(e){1===e.touches.length&&(f.current={x:e.touches[0].clientX,y:e.touches[0].clientY})}function n(e){if(!f.current)return;let r=e.changedTouches[0].clientX-f.current.x,n=e.changedTouches[0].clientY-f.current.y;if(Math.abs(r)>40&&Math.abs(r)>2*Math.abs(n)){let e=t.indexOf(a);r<0&&e<t.length-1?l(t[e+1]):r>0&&e>0&&l(t[e-1])}f.current=null}},[a,t,l]);let p=(0,n.useMemo)(()=>d?[...t,"all"]:["all",...t],[d,t]),b=(0,n.useCallback)(()=>{let e=p.indexOf(a),t=u.current,r=m.current[e];if(t&&r){let e=r.offsetLeft;r.offsetWidth,t.scrollLeft,t.offsetWidth;let a=e-t.offsetWidth/2+r.offsetWidth/2;"ontouchstart"in window?t.scrollLeft=Math.max(0,a):t.scrollTo({left:Math.max(0,a),behavior:"smooth"})}},[a,p]);return(0,n.useEffect)(()=>{let e=setTimeout(()=>{b()},100);return()=>clearTimeout(e)},[a,b]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{b()},100);return()=>clearTimeout(e)},[p,b]),(0,n.useEffect)(()=>{let e=()=>{setTimeout(()=>{b()},100)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[b]),(0,r.jsxs)("div",{className:"categories-bar flex flex-row items-center gap-1 pt-3 pb-4 bg-white dark:bg-black px-1 relative z-30",style:{display:"flex",visibility:"visible",opacity:1,position:"relative"},children:[(0,r.jsx)("button",{className:"relative flex items-center justify-center min-w-[56px] w-14 h-20 rounded-xl overflow-hidden shadow transition-all duration-300 ease-in-out focus:outline-none border-4 ".concat("grid"===a?"border-cyan-500 bg-cyan-100 dark:bg-cyan-900 scale-105 shadow-lg":"border-transparent bg-gray-100 dark:bg-gray-800 hover:border-gray-300 hover:scale-105"),onClick:()=>{c&&c(),l("grid")},"aria-label":"Ver categorias em grid",children:(0,r.jsxs)("svg",{className:"w-7 h-7 text-cyan-600 dark:text-cyan-300",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:[(0,r.jsx)("rect",{x:"3",y:"3",width:"7",height:"7",rx:"2"}),(0,r.jsx)("rect",{x:"14",y:"3",width:"7",height:"7",rx:"2"}),(0,r.jsx)("rect",{x:"14",y:"14",width:"7",height:"7",rx:"2"}),(0,r.jsx)("rect",{x:"3",y:"14",width:"7",height:"7",rx:"2"})]})}),(0,r.jsx)("div",{ref:u,className:"categories-bar-container flex flex-nowrap overflow-x-auto whitespace-nowrap gap-3 no-scrollbar max-w-full py-4",style:{WebkitOverflowScrolling:"touch",overflowY:"hidden",maxWidth:"100vw",minWidth:0,display:"flex",visibility:"visible"},children:p.map((e,t)=>{let n=x[e]||e,i=h[e]||[o];return(0,r.jsx)(k,{ref:e=>{m.current[t]=e},label:n,images:i,active:a===e,onClick:()=>l(e),fallbackImage:o},e)})})]})}let k=n.memo(n.forwardRef((e,t)=>{let{label:a,images:l,active:i,onClick:s,fallbackImage:o}=e,c=n.useMemo(()=>l.length>0?l:[o],[l,o]),[d,u]=n.useState(0),[m,x]=n.useState(new Set);n.useEffect(()=>{(async()=>{let e=c.map(e=>e&&!m.has(e)?new Promise(t=>{let a=new window.Image;a.onload=()=>{x(t=>new Set(t).add(e)),t()},a.onerror=()=>{t()},a.src=e}):Promise.resolve());await Promise.all(e)})()},[c,m]),n.useEffect(()=>{if(c.length<=1)return;let e=setInterval(()=>{u(e=>(e+1)%c.length)},4e3);return()=>clearInterval(e)},[c.length]);let h=c[d]||o;return(0,r.jsxs)("button",{ref:t,className:"category-bar-card relative min-w-[120px] w-40 h-20 rounded-xl overflow-hidden shadow transition-all duration-300 ease-in-out focus:outline-none ".concat(i?"border-4 border-cyan-500 scale-105 shadow-lg":"border-4 border-transparent hover:scale-105 hover:shadow-md hover:border-gray-300"),onClick:s,style:{flex:"0 0 auto"},children:[(0,r.jsx)("img",{src:h,alt:a,className:"absolute inset-0 object-cover w-full h-full rounded-xl",style:{transform:"translateZ(0)",backfaceVisibility:"hidden",willChange:"auto",pointerEvents:"none",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",width:"100%",height:"100%"},onError:e=>{e.target.src=o}}),i&&(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent rounded-xl"}),(0,r.jsx)("span",{className:"absolute inset-0 flex items-center justify-center z-20",style:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)("span",{className:"text-white text-base font-bold drop-shadow-[0_2px_8px_rgba(0,0,0,0.95)] text-center px-2 leading-tight transition-all duration-300",style:{textRendering:"optimizeSpeed",willChange:"auto",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:"1.2"},children:a})})]})}));k.displayName="CategoryBarCard";var j=a(8155),N=a(665),E=a(9493);function C(e){var t;let{dish:a,onClick:n,size:l="large",fallbackImage:i,index:s=0}=e,{elementRef:o,isVisible:c}=(0,N.$)({threshold:.1,rootMargin:"0px 0px -100px 0px",triggerOnce:!0}),d=E.j.hasRequiredComplementsWithPrice(a);return(0,r.jsxs)("div",{ref:o,className:"menu-card bg-gray-50 dark:bg-gray-900 rounded-lg shadow cursor-pointer flex flex-col items-center transition-all duration-700 ease-out ".concat("small"===l?"max-w-xs":""," ").concat(c?"opacity-100 translate-y-0":"opacity-0 translate-y-8"),style:{},onClick:n,children:[(0,r.jsx)("div",{className:"relative w-full",children:(0,r.jsx)(x.Z,{src:a.image,alt:a.name,fallbackSrc:i,clickable:!1,className:"w-full ".concat("small"===l?"h-32":"h-48"," object-cover rounded-t-lg"),children:(0,r.jsx)("div",{className:"absolute bottom-0 left-0 w-full px-4 py-2",style:{position:"absolute",bottom:"0",left:"0",right:"0",zIndex:10},children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-white drop-shadow-[0_1.5px_4px_rgba(0,0,0,0.7)]",children:a.name})})})}),(0,r.jsxs)("div",{className:"w-full p-3",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:a.description}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[d&&(0,r.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"a partir"}),(0,r.jsxs)("span",{className:"font-bold text-primary dark:text-cyan-300",children:["R$",a.price]})]}),(0,r.jsx)("div",{className:"flex gap-1",children:null===(t=a.tags)||void 0===t?void 0:t.map(e=>(0,r.jsx)("span",{className:"bg-primary dark:bg-cyan-700 text-white text-xs px-2 py-0.5 rounded-full",children:e},e))})]})]})]})}function S(e){let{searchTerm:t="",menuItems:a,categories:l,fallbackImage:s,activeCategory:o,setActiveCategory:c,onGridClick:d,currentSort:u,onSortChange:m,restaurantId:x,restaurant:h}=e,{t:g}=i(),[f,p]=(0,n.useState)(!1),[b,y]=(0,n.useState)(null),v=!!t.trim(),[k,N]=(0,n.useState)(!1),E=(0,n.useRef)(null),S=(0,n.useRef)(null),M=(0,n.useRef)(t),T=window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone||document.referrer.includes("android-app://"),z=l.filter(e=>a.some(t=>t.categories&&t.categories.includes(e))),{handleTouchStart:I,handleTouchMove:L,handleTouchEnd:R}=function(e,t,a){let r=(0,n.useRef)(null),l=(0,n.useRef)(null),i=(0,n.useRef)(null),s=(0,n.useRef)(null),o=r=>{let n=["all",...a],l=n.indexOf(e);"left"===r&&l<n.length-1?t(n[l+1]):"right"===r&&l>0&&t(n[l-1])};return{handleTouchStart:e=>{r.current=e.touches[0].clientX,l.current=null,i.current=e.touches[0].clientY,s.current=null},handleTouchMove:e=>{l.current=e.touches[0].clientX,s.current=e.touches[0].clientY},handleTouchEnd:()=>{if(null===r.current||null===l.current||null===i.current||null===s.current)return;let e=r.current-l.current,t=i.current-s.current;Math.abs(e)>40&&Math.abs(e)>2*Math.abs(t)&&(e>0?o("left"):o("right")),r.current=null,l.current=null,i.current=null,s.current=null}}}(o,c,z);(0,n.useEffect)(()=>{M.current&&!t&&c("all"),M.current=t},[t,c]),(0,n.useEffect)(()=>{},[o,v]);let _=(0,n.useCallback)(()=>{if(!E.current)return;let e=E.current.getBoundingClientRect().top<=0;e!==k&&N(e)},[k]);(0,n.useEffect)(()=>{let e=()=>{_()};window.addEventListener("scroll",e,{passive:!0});let t=document.querySelector(".menu-section");return t&&t.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e),t&&t.removeEventListener("scroll",e)}},[_]),(0,n.useEffect)(()=>{_()},[_]),(0,n.useEffect)(()=>{T&&N(!0)},[T]),(0,n.useEffect)(()=>{},[u]);let W=[];if(W="all"===o?[...a]:a.filter(e=>e.categories&&Array.isArray(e.categories)&&e.categories.includes(o)),u&&"default"!==u.field){let e=[...W];e.sort((e,t)=>{if("name"===u.field){let a=e.name.toLowerCase().trim(),r=t.name.toLowerCase().trim();return a&&r?"asc"===u.direction?a.localeCompare(r,"pt-BR"):r.localeCompare(a,"pt-BR"):(console.warn('⚠️ Nome inv\xe1lido detectado: "'.concat(e.name,'" ou "').concat(t.name,'"')),0)}if("price"===u.field){let a=e=>{let t=parseFloat(e.replace(/[R$\s]/g,"").replace(/[^\d,.-]/g,"").replace(",",".").replace(/\.(?=.*\.)/g,""));return isNaN(t)?0:t},r=a(e.price),n=a(t.price);return"asc"===u.direction?r-n:n-r}return 0}),W=e}if(0===W.length)return console.warn("⚠️ Nenhum item encontrado para renderizar"),(0,r.jsx)("section",{className:"menu-section py-0 bg-white dark:bg-black",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsx)("p",{className:"text-center text-gray-500 dark:text-gray-100",children:"Nenhum item encontrado para a categoria selecionada."})})});let B=e=>{y(e),p(!0)};return(0,r.jsxs)("section",{className:"menu-section py-0 bg-white dark:bg-black relative",children:[(0,r.jsxs)("div",{className:"container mx-auto px-0 pb-20",children:[(0,r.jsx)("div",{ref:E,className:"h-0"}),(0,r.jsx)("div",{ref:S,className:"categories-container transition-all duration-300 ease-in-out ".concat(k?"webapp-categories-fixed":"relative"),style:{...k&&{position:"fixed",top:0,left:0,right:0,zIndex:20,backgroundColor:"white",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",borderBottom:"1px solid #e5e7eb"}},children:(0,r.jsx)("div",{className:"px-0 pb-1 md:pb-2 pl-4 ".concat(k?"pt-2":""),children:(0,r.jsx)(w,{allCategories:z,activeCategory:o,setActiveCategory:c,t:g,menuItems:a,fallbackImage:s,onGridClick:d})})}),k&&(0,r.jsx)("div",{className:"h-32 md:h-36 webapp-categories-spacer"}),(0,r.jsx)("div",{className:"menu-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 px-3",onTouchStart:I,onTouchMove:L,onTouchEnd:R,children:W.map((e,t)=>(0,r.jsx)(C,{dish:e,onClick:()=>B(e),size:"large",fallbackImage:s,index:t},"".concat(e.name,"-").concat(e.category)))})]}),(0,r.jsx)(j.Z,{open:f,dish:b,restaurantId:x,restaurant:h,fallbackImage:null==h?void 0:h.image,onClose:()=>p(!1)})]})}var M=a(166),T=a(9555);function z(e){let{dish:t,onClick:a,size:l="small",fallbackImage:i,isPinned:s=!1,onPinToggle:o}=e,{cardRef:c,isVisible:d}=function(){let[e,t]=(0,n.useState)(!0),a=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=()=>{if(!a.current)return;let e=a.current.getBoundingClientRect(),r=e.top,n=e.bottom,l=window.innerHeight;t(r>=0&&n<=l-20)};e();let r=()=>{e()},n=()=>{e()};return window.addEventListener("resize",r),window.addEventListener("scroll",n),()=>{window.removeEventListener("resize",r),window.removeEventListener("scroll",n)}},[]),{cardRef:a,isVisible:e}}(),u=E.j.hasRequiredComplementsWithPrice(t),[m,h]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{h(!0)},[]),m&&!d)?null:(0,r.jsxs)("div",{ref:c,className:"menu-card bg-gray-50 dark:bg-gray-900 rounded-lg shadow cursor-pointer flex flex-col items-center ".concat("small"===l?"max-w-2xl":""),onClick:a,style:{paddingBottom:0,minHeight:144},children:[(0,r.jsx)("div",{className:"relative w-full",children:(0,r.jsxs)(x.Z,{src:t.image,alt:t.name,fallbackSrc:i,clickable:!1,className:"w-full h-28 object-cover rounded-t-lg",children:[t.tags&&t.tags.length>0&&(0,r.jsx)("span",{className:"absolute top-2 right-2 bg-primary dark:bg-cyan-700 text-white text-xs px-2 py-0.5 rounded-full z-10",children:t.tags[0]}),(0,r.jsx)("div",{"data-tutorial":"pin-button",className:"pin-button ".concat(s?"pinned":"unpinned"),onClick:e=>{e.stopPropagation(),null==o||o()},style:{position:"absolute",top:"8px",left:"8px",zIndex:999999,display:"flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px",backgroundColor:s?"#f59e0b":"rgba(255, 255, 255, 0.9)",color:s?"#ffffff":"#4b5563",borderRadius:"50%",border:"none",outline:"none",cursor:"pointer",boxShadow:s?"0 4px 8px rgba(245, 158, 11, 0.4)":"0 2px 4px rgba(0,0,0,0.2)",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",transition:"all 0.2s ease-in-out"},children:(0,r.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:s?"#ffffff":"#4b5563",style:{display:"block",width:"14px",height:"14px",pointerEvents:"none",transform:s?"scale(1.1)":"scale(1)",transition:"transform 0.2s ease-in-out"},children:(0,r.jsx)("path",{d:"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z"})})}),(0,r.jsx)("div",{className:"absolute bottom-2 right-2 text-white text-sm font-bold px-0 py-0 z-10 drop-shadow-[0_1.5px_4px_rgba(0,0,0,0.7)]",children:(0,r.jsxs)("div",{className:"text-right",children:[u&&(0,r.jsx)("div",{className:"text-xs opacity-80",children:"a partir"}),(0,r.jsxs)("div",{children:["R$",t.price]})]})}),(0,r.jsx)("div",{className:"absolute bottom-2 left-2 right-16",children:(0,r.jsx)("h3",{className:"text-sm font-semibold text-white drop-shadow-[0_1.5px_4px_rgba(0,0,0,0.7)] leading-tight line-clamp-3 overflow-hidden",children:t.name})})]})}),(0,r.jsx)("div",{className:"w-full p-2 min-h-[3rem] flex items-start",children:(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-2 leading-tight w-full",children:t.description})})]})}var I=a(8239),L=a(8614),R=a(5042);function _(e){var t;let{open:a,onClose:l,restaurant:i,selectedCategory:s}=e,[o,c]=(0,n.useState)(0),[d,u]=(0,n.useState)(!1),[m,x]=(0,n.useState)("next"),[h,g]=(0,n.useState)(null),[f,p]=(0,n.useState)(!1),[b,y]=(0,n.useState)(6),[v,w]=(0,n.useState)(new Set),[k,N]=(0,n.useState)(!1),[E,C]=(0,n.useState)(!1),[S,M]=(0,n.useState)(!1),[T,_]=(0,n.useState)({top:0,left:0}),W=(0,n.useRef)([]);i.menu_categories;let B=(0,n.useCallback)(()=>{W.current.forEach(e=>clearTimeout(e)),W.current=[]},[]),A=(0,n.useCallback)(()=>{if(B(),k){N(!1),C(!0);let e=setTimeout(()=>{C(!1),M(!0),setTimeout(()=>{let e=document.querySelector('[data-tutorial="pin-button"]');if(e){let t=e.getBoundingClientRect();_({top:t.top,left:t.left})}else _({top:120,left:20})},300);let e=setTimeout(()=>{M(!1),localStorage.setItem("journalSwipeTutorialDone","1")},6e3);W.current=[e]},6e3);W.current=[e]}else if(E){C(!1),M(!0),setTimeout(()=>{let e=document.querySelector('[data-tutorial="pin-button"]');if(e){let t=e.getBoundingClientRect();_({top:t.top,left:t.left})}else _({top:120,left:20})},300);let e=setTimeout(()=>{M(!1),localStorage.setItem("journalSwipeTutorialDone","1")},6e3);W.current=[e]}else S&&(M(!1),localStorage.setItem("journalSwipeTutorialDone","1"))},[k,E,S,B]);(0,n.useEffect)(()=>{if(a&&!localStorage.getItem("journalSwipeTutorialDone")){N(!0);let e=setTimeout(()=>{N(!1),C(!0);let e=setTimeout(()=>{C(!1),M(!0),setTimeout(()=>{let e=document.querySelector('[data-tutorial="pin-button"]');if(e){let t=e.getBoundingClientRect();_({top:t.top,left:t.left})}else _({top:120,left:20})},300);let e=setTimeout(()=>{M(!1),localStorage.setItem("journalSwipeTutorialDone","1")},6e3);W.current=[e]},6e3);W.current=[e]},4e3);W.current=[e]}return()=>{W.current.forEach(e=>clearTimeout(e))}},[a]),(0,n.useEffect)(()=>{let e=()=>{let e=window.innerHeight,t=window.innerWidth;y(Math.floor((e-80)/(t<768?160:t<1024?180:160))*(t<640?2:t<768?2:t<1024?3:t<1280?2:t<1536?3:4))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,n.useEffect)(()=>{if(!a)return;let e=e=>{l()};return window.history.pushState({journalMode:!0},"",window.location.href),window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[a,l]);let H=n.useMemo(()=>{let e={};return i.menu_items.forEach(t=>{(t.categories||[t.category]).forEach(a=>{a&&!e[a]&&(e[a]=[]),a&&e[a].push(t)})}),Object.entries(e).map(e=>{let[t,a]=e;return{category:t,items:a}})},[i.menu_items]),P=e=>{let t=X[G[o]||0];w(a=>{let r=new Set(a);r.has(e)?r.delete(e):r.add(e);let n=i.menu_items.filter(e=>r.has(e.name)).filter((e,t,a)=>t===a.findIndex(t=>t.name===e.name)),l=[],s=0;H.forEach((e,t)=>{let a=new Set,r=e.items.filter(e=>!a.has(e.name)&&(a.add(e.name),!0)),i=Math.max(0,b-n.length);if(i<=0){let e=Math.ceil(n.length/b);for(let a=0;a<e;a++)l[s]=t,s++}else{let e=Math.max(1,Math.ceil(r.length/i));for(let a=0;a<e;a++)l[s]=t,s++}});let o=X.indexOf(t),d=l.findIndex(e=>e===o);return setTimeout(()=>{if(-1!==d&&d<s)c(d);else{let e=l.findIndex(e=>e===o);-1!==e?c(e):c(0)}},0),r})},q=n.useMemo(()=>{let e=[],t=i.menu_items.filter(e=>v.has(e.name)).filter((e,t,a)=>t===a.findIndex(t=>t.name===e.name));return H.forEach(a=>{let r=new Set,n=a.items.filter(e=>!r.has(e.name)&&(r.add(e.name),!0)),l=Math.max(0,b-t.length);if(l<=0)for(let r=0;r<t.length;r+=b){let n=t.slice(r,r+b);e.push(n.map(e=>({dish:e,category:a.category})))}else for(let r=0;r<n.length;r+=l){let i=[...t,...n.slice(r,r+l)].filter((e,t,a)=>t===a.findIndex(t=>t.name===e.name));e.push(i.map(e=>({dish:e,category:a.category})))}}),e},[i.menu_items,v,b,H]),F=q.length,U=(0,n.useCallback)(()=>{o<F-1&&c(e=>e+1)},[o,F]),V=(0,n.useCallback)(()=>{o>0&&c(e=>e-1)},[o]),D=(0,n.useCallback)(e=>{e>=0&&e<F&&c(e)},[F]);(0,n.useEffect)(()=>{a&&c(0)},[a]);let O=(0,n.useRef)(null),Z=(0,n.useRef)(null);(0,n.useEffect)(()=>(a?(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.documentElement.requestFullscreen?document.documentElement.requestFullscreen().catch(()=>{}):document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen().catch(()=>{}):document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen().catch(()=>{})):(document.body.style.overflow="",document.documentElement.style.overflow="",document.exitFullscreen?document.exitFullscreen().catch(()=>{}):document.webkitExitFullscreen?document.webkitExitFullscreen().catch(()=>{}):document.msExitFullscreen&&document.msExitFullscreen().catch(()=>{})),()=>{document.body.style.overflow="",document.documentElement.style.overflow="",document.exitFullscreen?document.exitFullscreen().catch(()=>{}):document.webkitExitFullscreen?document.webkitExitFullscreen().catch(()=>{}):document.msExitFullscreen&&document.msExitFullscreen().catch(()=>{})}),[a]);let X=n.useMemo(()=>H.map(e=>e.category),[H]),Y=n.useMemo(()=>i.menu_items.filter(e=>v.has(e.name)).filter((e,t,a)=>t===a.findIndex(t=>t.name===e.name)),[i.menu_items,v]),G=n.useMemo(()=>{let e=[],t=0;return H.forEach((a,r)=>{let n=new Set,l=a.items.filter(e=>!n.has(e.name)&&(n.add(e.name),!0)),i=Math.max(0,b-Y.length);if(i<=0){let a=Math.ceil(Y.length/b);for(let n=0;n<a;n++)e[t]=r,t++}else{let a=Math.max(1,Math.ceil(l.length/i));for(let n=0;n<a;n++)e[t]=r,t++}}),e},[H,b,Y]),$=n.useMemo(()=>G[o]||0,[G,o]),J=n.useMemo(()=>X[$],[X,$]),K=n.useMemo(()=>i.menu_items,[i.menu_items]),{preloadProgress:Q,isImageLoaded:ee}=(0,R.i)(K);return((0,n.useEffect)(()=>{if(!a||0===q.length)return;let e=[];for(let t=o+1;t<Math.min(o+3,q.length);t++)q[t]&&e.push(...q[t].map(e=>e.dish));for(let t=Math.max(0,o-2);t<o;t++)q[t]&&e.push(...q[t].map(e=>e.dish));e.filter((e,t,a)=>t===a.findIndex(t=>t.name===e.name))},[o,q,a]),a)?(0,r.jsxs)(I.E.div,{className:"journal-view fixed inset-0 z-[200] flex flex-col items-center justify-center bg-white dark:bg-gray-900 select-none",onTouchStart:e=>{O.current=e.touches[0].clientX,Z.current=null},onTouchMove:e=>{Z.current=e.touches[0].clientX},onTouchEnd:()=>{if(null===O.current||null===Z.current)return;let e=O.current-Z.current;Math.abs(e)>50&&(e>0&&o<F-1?(x("next"),U()):e<0&&o>0&&(x("prev"),V())),O.current=null,Z.current=null},initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:[.25,.46,.45,.94]},children:[(0,r.jsx)("button",{className:"fixed left-0 top-0 h-full w-1/8 z-10 bg-transparent p-0 m-0 border-none outline-none",style:{cursor:"pointer"},"aria-label":"Retroceder",onClick:e=>{e.clientX<32&&o>0&&(x("prev"),V())},tabIndex:-1}),(0,r.jsx)("button",{className:"fixed right-0 top-0 h-full w-1/8 z-10 bg-transparent p-0 m-0 border-none outline-none",style:{cursor:"pointer"},"aria-label":"Avan\xe7ar",onClick:e=>{e.clientX>window.innerWidth-32&&o<F-1&&(x("next"),U())},tabIndex:-1}),(0,r.jsx)(I.E.button,{"aria-label":"P\xe1gina anterior",className:"fixed left-1 md:left-3 top-1/2 -translate-y-1/2 z-20 w-8 h-8 md:w-10 md:h-10 rounded-full bg-black/50 hover:bg-black/60 text-white shadow-lg flex items-center justify-center",onClick:()=>{o>0&&(x("prev"),V())},disabled:o<=0,style:{opacity:o<=0?.5:1},whileHover:{scale:1.1,y:-2,transition:{duration:.2}},whileTap:{scale:.95,y:0,transition:{duration:.1}},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.12},children:(0,r.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("polyline",{points:"15 18 9 12 15 6"})})}),(0,r.jsx)(I.E.button,{"aria-label":"Pr\xf3xima p\xe1gina",className:"fixed right-1 md:right-3 top-1/2 -translate-y-1/2 z-20 w-8 h-8 md:w-10 md:h-10 rounded-full bg-black/50 hover:bg-black/60 text-white shadow-lg flex items-center justify-center",onClick:()=>{o<F-1&&(x("next"),U())},disabled:o>=F-1,style:{opacity:o>=F-1?.5:1},whileHover:{scale:1.1,y:-2,transition:{duration:.2}},whileTap:{scale:.95,y:0,transition:{duration:.1}},initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.12},children:(0,r.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("polyline",{points:"9 18 15 12 9 6"})})}),(0,r.jsxs)("div",{className:"flex flex-row items-center w-full justify-between z-30 gap-0 mt-0 mb-0.5 px-1",style:{maxWidth:600,margin:"0 auto"},children:[(0,r.jsx)("div",{className:"flex gap-1 flex-1 justify-center min-w-0 overflow-x-auto items-center",style:{maxWidth:"calc(100vw - 64px)"},children:X.map((e,t)=>t===$?(0,r.jsx)(I.E.span,{className:"text-xs font-bold text-white text-center leading-tight flex items-center justify-center bg-primary dark:bg-cyan-600 px-2 rounded-full shadow-lg whitespace-nowrap",style:{minWidth:"fit-content",maxWidth:150,wordBreak:"break-word",display:"inline-flex",height:"36px",minHeight:"36px",lineHeight:"1.2"},initial:{opacity:0,scale:.8,y:-10},animate:{opacity:1,scale:1,y:0},transition:{duration:.24,delay:.06*t},whileHover:{scale:1.05,y:-2,transition:{duration:.2}},children:e},e):(0,r.jsx)(I.E.button,{className:"rounded-full bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 scale-100 transition-all duration-200 flex-shrink-0 border border-gray-400 dark:border-gray-500",style:{width:"30px",height:"20px",minWidth:"20px",minHeight:"16px"},onClick:()=>{let t=X.indexOf(e),a=G.findIndex(e=>e===t);-1!==a&&D(a)},"aria-label":"Ir para categoria ".concat(e),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.24,delay:.06*t},whileHover:{scale:1.2,y:-2,transition:{duration:.2}},whileTap:{scale:.9,transition:{duration:.1}}},e))}),(0,r.jsx)("div",{className:"flex flex-row items-center gap-0",children:(0,r.jsx)(I.E.button,{className:"w-8 h-8 flex items-center justify-center z-40 bg-transparent border-none shadow-none p-0 m-0 flex-shrink-0",onClick:l,"aria-label":"Fechar jornal",style:{background:"none",border:"none",boxShadow:"none"},whileHover:{scale:1.1,rotate:90,transition:{duration:.3}},whileTap:{scale:.9,transition:{duration:.1}},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.24,delay:.18},children:(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,r.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]}),(0,r.jsx)("div",{className:"flex flex-col items-center w-full flex-1 relative px-1 md:px-2 max-w-screen-md mx-auto z-10 pt-0",style:{perspective:2e3},children:(0,r.jsx)(L.M,{mode:"wait",initial:!1,children:(0,r.jsxs)(I.E.div,{initial:{rotateY:"next"===m?90:-90,x:"next"===m?100:-100,opacity:0,scale:.95,filter:"blur(2px)",transformOrigin:"next"===m?"left center":"right center"},animate:{rotateY:0,x:0,opacity:1,scale:1,filter:"blur(0px)",transition:{duration:.48,ease:[.25,.46,.45,.94],rotateY:{duration:.36,ease:[.25,.46,.45,.94]},x:{duration:.48,ease:[.25,.46,.45,.94]},opacity:{duration:.24,ease:[.25,.46,.45,.94]},scale:{duration:.36,ease:[.25,.46,.45,.94]},filter:{duration:.18,ease:[.25,.46,.45,.94]}}},exit:{rotateY:"next"===m?-90:90,x:"next"===m?-100:100,opacity:0,scale:.95,filter:"blur(2px)",transformOrigin:"next"===m?"right center":"left center",transition:{duration:.36,ease:[.25,.46,.45,.94],rotateY:{duration:.3,ease:[.25,.46,.45,.94]},x:{duration:.36,ease:[.25,.46,.45,.94]},opacity:{duration:.18,ease:[.25,.46,.45,.94]},scale:{duration:.24,ease:[.25,.46,.45,.94]},filter:{duration:.12,ease:[.25,.46,.45,.94]}}},style:{width:"100%",height:"100%",position:"absolute",left:0,top:0,display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"center",willChange:"transform",backfaceVisibility:"hidden",transformStyle:"preserve-3d"},children:[(0,r.jsx)(I.E.div,{className:"absolute inset-0 rounded-2xl",style:{background:"linear-gradient(".concat("next"===m?"90deg":"270deg",", \n                  rgba(0,0,0,0.1) 0%, \n                  rgba(0,0,0,0.05) 50%, \n                  rgba(0,0,0,0) 100%)"),pointerEvents:"none",zIndex:-1},initial:{opacity:0,scale:.8},animate:{opacity:[0,.3,0],scale:[.8,1.1,1],transition:{duration:.8,ease:[.25,.46,.45,.94],opacity:{duration:.6,ease:[.25,.46,.45,.94]},scale:{duration:.8,ease:[.25,.46,.45,.94]}}},exit:{opacity:0,scale:.8,transition:{duration:.3}}}),(0,r.jsx)(I.E.div,{className:"absolute inset-0 rounded-2xl",style:{background:"linear-gradient(".concat("next"===m?"90deg":"270deg",", \n                  rgba(255,255,255,0.8) 0%, \n                  rgba(255,255,255,0.4) 30%, \n                  rgba(255,255,255,0.1) 60%, \n                  rgba(255,255,255,0) 100%)"),pointerEvents:"none",zIndex:1,maskImage:"linear-gradient(".concat("next"===m?"90deg":"270deg",", \n                  transparent 0%, \n                  rgba(0,0,0,0.3) 20%, \n                  rgba(0,0,0,0.8) 50%, \n                  rgba(0,0,0,0.3) 80%, \n                  transparent 100%)"),WebkitMaskImage:"linear-gradient(".concat("next"===m?"90deg":"270deg",", \n                  transparent 0%, \n                  rgba(0,0,0,0.3) 20%, \n                  rgba(0,0,0,0.8) 50%, \n                  rgba(0,0,0,0.3) 80%, \n                  transparent 100%)")},initial:{opacity:0,scaleX:.1,x:"next"===m?-50:50},animate:{opacity:[0,.6,0],scaleX:[.1,1.2,.1],x:["next"===m?-50:50,0,"next"===m?50:-50],transition:{duration:.8,ease:[.25,.46,.45,.94],opacity:{duration:.6,ease:[.25,.46,.45,.94]},scaleX:{duration:.8,ease:[.25,.46,.45,.94]},x:{duration:.8,ease:[.25,.46,.45,.94]}}},exit:{opacity:0,scaleX:.1,x:"next"===m?50:-50,transition:{duration:.3}}}),(0,r.jsx)(I.E.div,{className:"absolute inset-0 rounded-2xl",style:{background:"linear-gradient(".concat("next"===m?"90deg":"270deg",", \n                  rgba(0,0,0,0.15) 0%, \n                  rgba(0,0,0,0.08) 30%, \n                  rgba(0,0,0,0.02) 70%, \n                  rgba(0,0,0,0) 100%)"),pointerEvents:"none",zIndex:2,transform:"translateZ(20px)",filter:"blur(0.5px)"},initial:{opacity:0,scale:.9,rotateY:"next"===m?45:-45,z:0},animate:{opacity:[0,.4,0],scale:[.9,1.05,1],rotateY:["next"===m?45:-45,0,0],z:[0,20,0],transition:{duration:.8,ease:[.25,.46,.45,.94],opacity:{duration:.5,ease:[.25,.46,.45,.94]},scale:{duration:.7,ease:[.25,.46,.45,.94]},rotateY:{duration:.6,ease:[.25,.46,.45,.94]},z:{duration:.8,ease:[.25,.46,.45,.94]}}},exit:{opacity:0,scale:.9,rotateY:0,z:0,transition:{duration:.3}}}),(0,r.jsx)(I.E.div,{className:"absolute inset-0 rounded-2xl",style:{background:"radial-gradient(ellipse at ".concat("next"===m?"30%":"70%"," center, \n                  rgba(255,255,255,0.6) 0%, \n                  rgba(255,255,255,0.3) 40%, \n                  rgba(255,255,255,0.1) 70%, \n                  rgba(255,255,255,0) 100%)"),pointerEvents:"none",zIndex:3,filter:"blur(1px)"},initial:{opacity:0,scale:.5,x:"next"===m?-100:100,y:-20},animate:{opacity:[0,.5,0],scale:[.5,1.3,.8],x:["next"===m?-100:100,0,"next"===m?50:-50],y:[-20,0,10],transition:{duration:1,ease:[.25,.46,.45,.94],opacity:{duration:.7,ease:[.25,.46,.45,.94]},scale:{duration:1,ease:[.25,.46,.45,.94]},x:{duration:1,ease:[.25,.46,.45,.94]},y:{duration:1,ease:[.25,.46,.45,.94]}}},exit:{opacity:0,scale:.5,x:"next"===m?50:-50,y:10,transition:{duration:.3}}}),(0,r.jsx)(I.E.div,{className:"absolute inset-0 rounded-2xl",style:{background:"linear-gradient(".concat("next"===m?"135deg":"225deg",", \n                  rgba(255,255,255,0.8) 0%, \n                  rgba(255,255,255,0.4) 25%, \n                  rgba(255,255,255,0.1) 50%, \n                  rgba(255,255,255,0) 75%)"),pointerEvents:"none",zIndex:4,mixBlendMode:"overlay"},initial:{opacity:0,scale:.8,rotate:"next"===m?-15:15},animate:{opacity:[0,.3,0],scale:[.8,1.1,.9],rotate:["next"===m?-15:15,0,0],transition:{duration:.9,ease:[.25,.46,.45,.94],opacity:{duration:.6,ease:[.25,.46,.45,.94]},scale:{duration:.9,ease:[.25,.46,.45,.94]},rotate:{duration:.7,ease:[.25,.46,.45,.94]}}},exit:{opacity:0,scale:.8,rotate:0,transition:{duration:.3}}}),(0,r.jsx)(I.E.div,{className:"absolute inset-0 rounded-2xl",style:{background:"radial-gradient(circle at ".concat("next"===m?"25%":"75%"," 50%, \n                  rgba(255,255,255,0.4) 0%, \n                  rgba(255,255,255,0.2) 30%, \n                  rgba(255,255,255,0.1) 60%, \n                  rgba(255,255,255,0) 100%)"),pointerEvents:"none",zIndex:5,filter:"blur(0.5px)"},initial:{opacity:0,scale:.3,x:"next"===m?-150:150,y:-30},animate:{opacity:[0,.4,0],scale:[.3,1.5,.6],x:["next"===m?-150:150,0,"next"===m?100:-100],y:[-30,0,20],transition:{duration:1.2,ease:[.25,.46,.45,.94],opacity:{duration:.8,ease:[.25,.46,.45,.94]},scale:{duration:1.2,ease:[.25,.46,.45,.94]},x:{duration:1.2,ease:[.25,.46,.45,.94]},y:{duration:1.2,ease:[.25,.46,.45,.94]}}},exit:{opacity:0,scale:.3,x:"next"===m?100:-100,y:20,transition:{duration:.3}}}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-0.5 w-full max-w-7xl mx-auto px-0.5 md:px-1",children:null===(t=q[o])||void 0===t?void 0:t.map((e,t)=>(0,r.jsx)("div",{className:"flex justify-center items-center",children:(0,r.jsx)("div",{className:"w-full max-w-xs",children:(0,r.jsx)(I.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:.1*t,ease:[.25,.46,.45,.94]},whileHover:{scale:1.02,y:-5,transition:{duration:.2}},style:{transformStyle:"preserve-3d",backfaceVisibility:"hidden"},children:(0,r.jsx)(z,{dish:e.dish,size:"small",onClick:()=>{g(e.dish),p(!0)},fallbackImage:i.image,isPinned:v.has(e.dish.name),onPinToggle:()=>P(e.dish.name)})})})},"".concat(e.dish.name,"-").concat(e.category,"-").concat(o,"-").concat(t)))})]},o+"-"+J)})}),f&&h&&(0,r.jsx)(j.Z,{open:f,dish:h,restaurantId:i.id,restaurant:i,fallbackImage:i.image,onClose:()=>p(!1)}),(0,r.jsx)(L.M,{children:k&&(0,r.jsxs)(I.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] flex items-center justify-center",onClick:A,style:{cursor:"pointer"},children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,r.jsxs)("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 max-w-sm mx-4 text-center",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)(I.E.div,{animate:{x:[-30,30,-30],rotate:[-5,5,-5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"text-5xl",children:"\uD83D\uDC46"})}),(0,r.jsx)("p",{className:"text-gray-700 dark:text-gray-200 text-lg font-medium mb-2",children:"Deslize para navegar"}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Use o gesto de swipe para mudar de p\xe1gina"})]})]})}),(0,r.jsx)(L.M,{children:E&&(0,r.jsxs)(I.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300]",onClick:A,style:{cursor:"pointer"},children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,r.jsx)("div",{className:"absolute top-1 left-1/2 transform -translate-x-1/2",style:{width:"calc(100vw - 64px)",maxWidth:"600px",height:"40px",border:"3px solid #06b6d4",borderRadius:"20px",boxShadow:"0 0 0 9999px rgba(0,0,0,0.5)",pointerEvents:"none"}}),(0,r.jsx)("div",{className:"absolute top-16 left-1/2 transform -translate-x-1/2 bg-white dark:bg-gray-800 rounded-xl shadow-xl p-4 text-center max-w-xs",children:(0,r.jsx)("p",{className:"text-gray-700 dark:text-gray-200 text-sm font-medium",children:"Aqui voc\xea pode navegar entre as categorias"})})]})}),(0,r.jsx)(L.M,{children:S&&(0,r.jsxs)(I.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300]",onClick:A,style:{cursor:"pointer"},children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,r.jsx)("div",{className:"absolute",style:{top:"".concat(T.top-2,"px"),left:"".concat(T.left-2,"px"),width:"28px",height:"28px",border:"3px solid #06b6d4",borderRadius:"50%",boxShadow:"0 0 0 9999px rgba(0,0,0,0.5)",pointerEvents:"none"}}),(0,r.jsx)("div",{className:"absolute bg-white dark:bg-gray-800 rounded-xl shadow-xl p-4 text-center max-w-xs",style:{top:"".concat(T.top+40,"px"),left:"".concat(Math.max(20,Math.min(T.left-80,window.innerWidth-280)),"px")},children:(0,r.jsx)("p",{className:"text-gray-700 dark:text-gray-200 text-sm font-medium",children:"Aqui voc\xea pode fixar um prato para sempre visualizar ele enquanto navega entre o jornal"})})]})})]}):null}let W=(0,M.default)(()=>a.e(276).then(a.bind(a,2276)),{loadableGenerated:{webpack:()=>[2276]},ssr:!1,loading:()=>null}),B=(0,M.default)(()=>a.e(292).then(a.bind(a,3292)),{loadableGenerated:{webpack:()=>[3292]},ssr:!1,loading:()=>null});function A(e){let{searchTerm:t,onSearchTermChange:a,restaurant:l,restaurants:s,selectedCategory:c}=e,{t:d}=i(),[u,m]=(0,n.useState)(!1),[x,h]=(0,n.useState)(!1),[g,f]=(0,n.useState)(!1),[p,b]=(0,n.useState)(null),y=(0,n.useRef)(null),v=(0,n.useRef)(null),w=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(x)return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)};function e(e){w.current&&w.current.contains(e.target)||h(!1)}function t(e){"Escape"===e.key&&h(!1)}},[x]),(0,n.useEffect)(()=>{x&&y.current&&setTimeout(()=>{var e,t;null===(e=y.current)||void 0===e||e.focus(),null===(t=y.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"center"})},200)},[x]),(0,n.useEffect)(()=>{if(!w.current)return;let e=null===window.visualViewport?void 0:window.visualViewport,t=()=>{w.current&&(e?(w.current.style.maxHeight=e.height+"px",w.current.style.bottom=window.innerHeight-e.height-e.offsetTop+"px"):(w.current.style.maxHeight=window.innerHeight+"px",w.current.style.bottom="0px"))};return e?(e.addEventListener("resize",t),e.addEventListener("scroll",t)):window.addEventListener("resize",t),t(),()=>{e?(e.removeEventListener("resize",t),e.removeEventListener("scroll",t)):window.removeEventListener("resize",t)}},[x]),(0,o.y)(x);let k=t.trim().toLowerCase(),N=e=>e.name.toLowerCase().includes(k)||e.description.toLowerCase().includes(k)||e.tags&&e.tags.some(e=>e.toLowerCase().includes(k)),E=k?Array.from(new Set(l.menu_items.filter(N).flatMap(e=>e.categories||[]))):[],C=k?l.menu_items.filter(e=>!!N(e)&&("all"===c||!c||e.categories&&e.categories.includes(c))):[],S=k?s.filter(e=>e.id!==l.id).map(e=>({restaurant:e,items:e.menu_items.filter(N)})).filter(e=>e.items.length>0):[],[M,z]=(0,n.useState)(!1),[I,L]=(0,n.useState)(!1);return(0,r.jsxs)("div",{className:"fixed bottom-[max(1.5rem,env(safe-area-inset-bottom)+1.5rem)] right-[max(1.5rem,env(safe-area-inset-right)+1.5rem)] z-60 flex flex-col items-end gap-2",style:{transition:"bottom 0.2s"},children:[(0,r.jsx)("button",{id:"journal-tutorial-button",className:"w-16 h-16 rounded-full bg-white/80 hover:bg-white/90 dark:!bg-gray-900/80 dark:hover:!bg-gray-900/90 border-2 border-white/60 dark:!border-gray-800/60 shadow-2xl backdrop-blur-sm flex items-center justify-center transition-all duration-150 hover:scale-110 active:scale-95 hover:shadow-3xl focus:outline-none group mb-2","data-tutorial":"journal-button","aria-label":d("Modo jornal"),onClick:()=>z(!0),children:(0,r.jsx)(()=>(0,r.jsx)("svg",{width:"40",height:"40",viewBox:"-6 -6 140 140",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{className:"fill-gray-700 dark:fill-white",d:"M55.211 83.321c-.129-.092-12.863-8.956-31.239-8.442a1.411 1.411 0 0 1-1.462-1.325v-.001a1.42 1.42 0 0 1 1.364-1.494c19.386-.57 32.415 8.565 32.976 8.965l-1.639 2.297zm0-9.985c-.129-.092-12.863-8.957-31.239-8.442a1.41 1.41 0 0 1-1.462-1.325 1.42 1.42 0 0 1 1.364-1.494c19.385-.561 32.414 8.565 32.975 8.964l-1.638 2.297zm0-9.984c-.129-.092-12.86-8.958-31.239-8.442a1.41 1.41 0 0 1-1.462-1.325 1.42 1.42 0 0 1 1.364-1.494c19.385-.564 32.415 8.564 32.975 8.964l-1.638 2.297zm0-9.986c-.129-.092-12.862-8.961-31.239-8.442a1.412 1.412 0 0 1-1.463-1.325 1.42 1.42 0 0 1 1.364-1.494c19.385-.566 32.415 8.565 32.975 8.964l-1.637 2.297zm0-9.985c-.129-.092-12.862-8.962-31.239-8.442a1.412 1.412 0 0 1-1.463-1.325 1.42 1.42 0 0 1 1.364-1.494c19.385-.568 32.415 8.565 32.976 8.964l-1.638 2.297zM71.825 83.32l-1.639-2.296c.561-.398 13.595-9.518 32.975-8.963a1.419 1.419 0 0 1 1.364 1.493v.001a1.411 1.411 0 0 1-1.462 1.325c-18.444-.519-31.11 8.348-31.238 8.44zm0-9.985-1.639-2.296c.561-.398 13.595-9.52 32.975-8.964a1.419 1.419 0 0 1 1.364 1.493 1.41 1.41 0 0 1-1.462 1.325c-18.412-.525-31.11 8.35-31.238 8.442zm-.001-9.983-1.638-2.297c.559-.399 13.586-9.533 32.976-8.964a1.418 1.419 0 0 1 1.363 1.493v.001a1.41 1.41 0 0 1-1.462 1.325c-18.392-.52-31.11 8.35-31.239 8.442zm.001-9.987-1.639-2.296c.561-.399 13.595-9.524 32.975-8.964a1.42 1.42 0 0 1 1.364 1.493 1.411 1.411 0 0 1-1.463 1.325c-18.443-.528-31.109 8.351-31.237 8.442zm0-9.985-1.639-2.296c.561-.399 13.595-9.513 32.975-8.963a1.417 1.417 0 0 1 1.364 1.493 1.41 1.41 0 0 1-1.462 1.325c-18.444-.524-31.11 8.35-31.238 8.441zm39.519-22.105v5.007h.014v-5.007h-.014zm4.245-.635v-3.484l-2.045-.07c-28.756-.945-45.807 10.027-49.939 13.06-4.132-3.018-21.169-13.99-49.939-13.06l-2.045.07v3.484H0v86.241h54.65c1.664 2.426 5.218 4.09 9.35 4.09s7.7-1.664 9.364-4.09H128V20.64h-12.411zM5.641 101.24V26.282h5.98v66.919l2.172-.07c.24 0 22.354-.465 40.377 8.109H5.641zm55.454-1.1C44.453 90.112 22.748 88.984 15.852 88.9V21.275c25.992-.367 41.703 9.745 45.243 12.284v66.581zm4.231.493V34.109l.028.028c.169-.141 16.303-13.172 45.99-12.862h.014V88.9c-7.009.098-29.292 1.241-46.032 11.733zm57.033.607H73.04c18.01-8.561 40.123-8.109 40.377-8.109l2.172.056V26.282h6.77v74.958z"})}),{})}),l.waiter_call_enabled&&(0,r.jsx)(W,{restaurantId:l.id,waiterCallEnabled:l.waiter_call_enabled,className:"w-16 h-16 rounded-full bg-white/80 hover:bg-white/90 dark:!bg-gray-900/80 dark:hover:!bg-gray-900/90 border-2 border-white/60 dark:!border-gray-800/60 shadow-2xl backdrop-blur-sm flex items-center justify-center transition-all duration-150 hover:scale-110 active:scale-95 hover:shadow-3xl focus:outline-none group mb-2","data-tutorial":"waiter-button"}),(0,r.jsx)("button",{ref:v,className:"w-16 h-16 rounded-full bg-white/80 hover:bg-white/90 dark:!bg-gray-900/80 dark:hover:!bg-gray-900/90 border-2 border-white/60 dark:!border-gray-800/60 shadow-2xl backdrop-blur-sm flex items-center justify-center transition-all duration-150 hover:scale-110 active:scale-95 hover:shadow-3xl focus:outline-none group","data-tutorial":"search-button","aria-label":"Busca & IA",onClick:()=>L(!0),children:(0,r.jsxs)("svg",{width:"34",height:"34",viewBox:"0 0 24 24",fill:"none",style:{display:"block"},children:[(0,r.jsx)("circle",{cx:"10.5",cy:"10.5",r:"7",className:"stroke-gray-700 dark:stroke-white",strokeWidth:"2.5",fill:"none"}),(0,r.jsx)("line",{x1:"21",y1:"21",x2:"15.5",y2:"15.5",className:"stroke-gray-700 dark:stroke-white",strokeWidth:"2.5",strokeLinecap:"round"})]})}),x&&(0,r.jsx)("div",{className:"fixed inset-0 z-[100] flex items-end justify-center bg-black/30 backdrop-blur-sm",children:(0,r.jsxs)("div",{ref:w,className:"fixed bottom-0 left-0 w-full max-w-lg bg-white dark:bg-gray-900 rounded-t-3xl shadow-2xl p-0 pt-0 pb-0 relative flex flex-col items-center z-70",style:{right:0,margin:"0 auto"},children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full z-20 bg-white dark:bg-gray-900 p-4 pt-6 rounded-t-3xl",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{ref:y,type:"text",placeholder:d("search"),className:"block w-full h-14 px-5 rounded-full bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 shadow text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none text-lg",value:t,onChange:e=>a(e.target.value)}),(0,r.jsx)("button",{"aria-label":d("close"),onClick:()=>{h(!1),a("")},className:"ml-2 flex items-center justify-center w-12 h-12 rounded-full bg-transparent text-gray-600 dark:text-gray-300 text-2xl focus:outline-none focus:ring-2 focus:ring-cyan-500",type:"button",style:{background:"none",boxShadow:"none",border:"none"},children:(0,r.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,r.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}),(0,r.jsxs)("div",{className:"w-full pt-[88px] px-4 pb-8 max-h-[80vh] overflow-y-auto",children:[k&&E.length>0&&(0,r.jsx)("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-900 px-0 pt-3 pb-2",children:(0,r.jsxs)("div",{className:"flex flex-nowrap overflow-x-auto whitespace-nowrap gap-2 max-w-full pl-1 pr-4 scrollbar-thin",style:{WebkitOverflowScrolling:"touch",overflowY:"hidden",minWidth:0,paddingBottom:8},children:[(0,r.jsx)("button",{className:"px-4 py-2 rounded-lg text-sm font-medium ring-0 ".concat("all"===c?"bg-primary text-white dark:bg-cyan-700 ring-cyan-500":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 ring-transparent"),onClick:()=>a(""),children:"Todos"},"all"),E.map(e=>(0,r.jsx)("button",{className:"px-4 py-2 rounded-lg text-sm font-medium ring-0 ".concat(c===e?"bg-primary text-white dark:bg-cyan-700 ring-cyan-500":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 ring-transparent"),onClick:()=>a(e),children:e},e))]})}),k&&(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[C.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1",children:l.name}),(0,r.jsx)("div",{className:"flex flex-col gap-3 items-center w-full",children:C.map(e=>(0,r.jsx)("div",{className:"w-full flex justify-center",onClick:()=>{b(e),f(!0)},children:(0,r.jsx)("div",{className:"w-full max-w-lg",children:(0,r.jsx)(T.Z,{dish:e,size:"large",fallbackImage:l.image})})},e.name+e.category))})]}),S.length>0&&S.map(e=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"my-8 flex items-center w-full gap-4",children:[(0,r.jsx)("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-700"}),(0,r.jsx)("span",{className:"px-4 text-lg font-bold text-gray-700 dark:text-gray-200 text-center whitespace-nowrap",children:e.restaurant.name}),(0,r.jsx)("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-700"})]}),(0,r.jsx)("div",{className:"flex flex-col gap-3 items-center w-full",children:e.items.map(t=>(0,r.jsx)("div",{className:"w-full flex justify-center",onClick:()=>{b(t),f(!0)},children:(0,r.jsx)("div",{className:"w-full max-w-lg",children:(0,r.jsx)(T.Z,{dish:t,size:"large",fallbackImage:e.restaurant.image})})},t.name+t.category))})]},e.restaurant.id)),0===C.length&&0===S.length&&(0,r.jsx)("div",{className:"text-center text-gray-400 text-sm py-6",children:d("Nenhum resultado encontrado")})]})]})]})}),(0,r.jsx)(_,{open:M,onClose:()=>z(!1),restaurant:l,selectedCategory:c}),(0,r.jsx)(j.Z,{open:g,dish:p,restaurantId:l.id,restaurant:l,fallbackImage:l.image,onClose:()=>f(!1)}),(0,r.jsx)(B,{restaurant:l,restaurants:s,isOpen:I,onClose:()=>L(!1),buttonRef:v})]})}var H=a(29),P=a.n(H);function q(e){let{categories:t,menuItems:a,onSelectCategory:n,fallbackImage:l}=e,i=t.filter(e=>a.some(t=>t.categories&&t.categories.includes(e))),s=(0,r.jsx)(F,{category:"Todos",images:[l],onClick:()=>n("all"),fallbackImage:l,index:i.length},"all");return(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3 px-3 pt-3 pb-6 relative z-1 animated-category-grid",children:[i.map((e,t)=>{let i=a.filter(t=>t.categories&&t.categories.includes(e)).map(e=>e.image||l),s=i.length>0?i:[l];return(0,r.jsx)(F,{category:e,images:s,onClick:()=>n(e),fallbackImage:l,index:t},e)}),s]})}function F(e){let{category:t,images:a,onClick:l,fallbackImage:i,index:s=0}=e,[o,c]=n.useState(0),[d,u]=n.useState(null),[m,h]=n.useState(!1);n.useEffect(()=>{if(a.length<=1)return;let e=setInterval(()=>{let e=(o+1)%a.length;u(e),h(!0),setTimeout(()=>{c(e),h(!1),u(null)},1e3)},4e3);return()=>clearInterval(e)},[a.length,o]);let g=a[o]||i,f=null!==d?a[d]||i:null;return(0,r.jsxs)("button",{onClick:l,className:"jsx-4d32c41d41e9e1cd relative aspect-square rounded-2xl overflow-hidden shadow-lg group focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-gray-100 dark:bg-gray-800 transition-all duration-300 ease-out opacity-100 translate-y-0 scale-100",children:[(0,r.jsx)(x.Z,{src:g,alt:t,clickable:!1,className:"object-cover w-full h-full absolute inset-0 z-0",fallbackSrc:i}),m&&f&&(0,r.jsx)(x.Z,{src:f,alt:t,clickable:!1,className:"object-cover w-full h-full absolute inset-0 z-10 transition-opacity duration-1000 opacity-0 animate-fadein",fallbackSrc:i}),(0,r.jsx)("div",{className:"jsx-4d32c41d41e9e1cd absolute inset-0 bg-black/40 flex items-center justify-center z-20",children:(0,r.jsx)("span",{className:"jsx-4d32c41d41e9e1cd text-white text-xl md:text-2xl font-bold drop-shadow-lg text-center px-2",children:t})}),(0,r.jsx)(P(),{id:"4d32c41d41e9e1cd",children:"@-webkit-keyframes fadein{from{opacity:0}to{opacity:1}}@-moz-keyframes fadein{from{opacity:0}to{opacity:1}}@-o-keyframes fadein{from{opacity:0}to{opacity:1}}@keyframes fadein{from{opacity:0}to{opacity:1}}"})]})}function U(){let e=(0,s.usePathname)(),t=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let a=e.match(/^\/restaurant\/([^\/]+)/);if(a){let e=a[1],r=e.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase()).trim();console.log("SimpleManifestUpdater: Processing restaurant:",r);let n=window.location.origin;document.title="".concat(r," - Card\xe1pio Digital");let l=document.querySelector('meta[name="apple-mobile-web-app-title"]');l&&l.setAttribute("content",r);let i={name:r,short_name:r,description:"Card\xe1pio digital de ".concat(r),start_url:"".concat(n,"/restaurant/").concat(e),display:"standalone",background_color:"#ffffff",theme_color:"#000000",orientation:"portrait-primary",scope:"".concat(n,"/"),lang:"pt-BR",categories:["food","lifestyle","utilities"],prefer_related_applications:!1,icons:[{src:"".concat(n,"/favicon-16x16.png"),sizes:"16x16",type:"image/png",purpose:"any maskable"},{src:"".concat(n,"/favicon-32x32.png"),sizes:"32x32",type:"image/png",purpose:"any maskable"},{src:"".concat(n,"/apple-touch-icon.png"),sizes:"180x180",type:"image/png",purpose:"any maskable"},{src:"".concat(n,"/favicon.ico"),sizes:"48x48",type:"image/x-icon"}]};t.current&&(URL.revokeObjectURL(t.current),t.current=null);let s=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),o=URL.createObjectURL(s);t.current=o;let c=document.querySelector('link[rel="manifest"]');if(c){c.remove();let e=document.createElement("link");e.rel="manifest",e.href=o,document.head.appendChild(e),console.log("SimpleManifestUpdater: Updated manifest for restaurant:",r),console.log("SimpleManifestUpdater: Manifest data:",i),console.log("SimpleManifestUpdater: New manifest URL:",o)}else console.error("SimpleManifestUpdater: Manifest link not found")}else{t.current&&(URL.revokeObjectURL(t.current),t.current=null),document.title="Restaurant Menu";let e=document.querySelector('meta[name="apple-mobile-web-app-title"]');e&&e.setAttribute("content","Restaurant");let a=document.querySelector('link[rel="manifest"]');a&&(a.href="".concat(window.location.origin,"/manifest.json"),console.log("SimpleManifestUpdater: Reset to default manifest"))}return()=>{t.current&&(URL.revokeObjectURL(t.current),t.current=null)}},[e]),null}let V=e=>[...e?[{selector:'[data-tutorial="restaurant-switch"]',text:"Aqui voc\xea pode trocar de restaurante.",arrow:"down"}]:[],{selector:'[data-tutorial="carousel"]',text:"Aqui est\xe3o os pratos em destaque do restaurante.",arrow:"down"}],D=(e,t)=>[...e?[{selector:'[data-tutorial="restaurant-switch"]',text:"Aqui voc\xea pode trocar de restaurante.",arrow:"left"}]:[],{selector:"#journal-tutorial-button",text:"Aqui voc\xea acessa o modo jornal e ter a experi\xeancia de folhear o menu.",arrow:"left"},...(null==t?void 0:t.waiter_call_enabled)?[{selector:'[data-tutorial="waiter-button"]',text:"Aqui voc\xea pode chamar o gar\xe7om.",arrow:"left"}]:[],{selector:'[data-tutorial="search-button"]',text:"Aqui voc\xea pode realizar buscas ou conversar com a nossa Intelig\xeancia Artificial.",arrow:"left"}],O=e=>{let{onDone:t}=e,a=(0,s.useSearchParams)().has("multiple"),l=n.useMemo(()=>V(a),[a]),[i,o]=n.useState(0),[c,d]=n.useState(!1),[u,m]=n.useState(!1),[x,h]=n.useState(!1),[g,f]=n.useState({top:0,left:0,width:0,height:0}),p=n.useRef([]),b=n.useCallback(()=>{p.current.forEach(e=>clearTimeout(e)),p.current=[]},[]),y=n.useCallback(()=>{(b(),i<l.length-1)?o(i+1):(d(!1),localStorage.setItem("gridTutorialDone","1"),t())},[i,l.length,b,t]);if(n.useEffect(()=>{m(!0)},[]),n.useEffect(()=>{if(!u||localStorage.getItem("gridTutorialDone"))return;let e=setTimeout(()=>{h(!0)},500);return()=>clearTimeout(e)},[u]),n.useEffect(()=>{x&&!localStorage.getItem("gridTutorialDone")&&d(!0)},[x]),n.useEffect(()=>{if(!c||i>=l.length)return;f({top:0,left:0,width:0,height:0});let e=setTimeout(()=>{let e=document.querySelector(l[i].selector);if(!e){i<l.length-1?o(i+1):(d(!1),localStorage.setItem("gridTutorialDone","1"),t());return}let a=e.getBoundingClientRect();f({top:a.top,left:a.left,width:a.width,height:a.height})},150),a=setTimeout(()=>{i<l.length-1?o(i+1):(d(!1),localStorage.setItem("gridTutorialDone","1"),t())},5e3);return p.current=[e,a],()=>{p.current.forEach(clearTimeout),p.current=[]}},[i,c,l,t]),!u||!c||i>=l.length||0===g.width&&0===g.height)return null;let v=g.left,w="down"===l[i].arrow?g.top+g.height+16:g.top;if("left"===l[i].arrow){if('[data-tutorial="restaurant-switch"]'===l[i].selector){if((v=Math.max(8,g.left+g.width/2-130))+260>window.innerWidth-8){let e=g.left+g.width+12;if(e+260<=window.innerWidth-8)v=e;else{let e=g.left-260-12;v=e>=8?e:8}}}else g.left+g.width+260+12>window.innerWidth?(v=g.left-260-12)<0&&(v=Math.max(0,window.innerWidth/2-130)):v=g.left+g.width+12}return w+120>window.innerHeight&&(w=Math.max(0,window.innerHeight-140)),(0,r.jsxs)("div",{className:"fixed inset-0 z-[9999]",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/60 pointer-events-auto",onClick:y,style:{cursor:"pointer",zIndex:9999}}),(0,r.jsxs)("div",{className:"pointer-events-none",children:[(0,r.jsx)("div",{style:{position:"absolute",top:g.top-8,left:g.left-8,width:g.width+16,height:g.height+16,borderRadius:16,border:"3px solid #06b6d4",boxShadow:"0 0 0 9999px rgba(0,0,0,0.5)",pointerEvents:"none"}}),(0,r.jsxs)("div",{style:{position:"absolute",top:w,left:v,width:260,zIndex:1e4},className:"bg-white dark:bg-gray-900 rounded-xl shadow-xl p-4 text-gray-900 dark:text-gray-100 animate-fade-in",children:[(0,r.jsx)("div",{className:"mb-2",children:l[i].text}),(0,r.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"Clique para pular."})]})]})]})},Z=e=>{let{onDone:t,restaurant:a}=e,l=(0,s.useSearchParams)().has("multiple"),i=n.useMemo(()=>D(l,a),[l,a]),[c,d]=n.useState(0),[u,m]=n.useState(!1),[x,h]=n.useState(!1),[g,f]=n.useState(!1),[p,b]=n.useState({top:0,left:0,width:0,height:0}),y=n.useRef([]),v=n.useCallback(()=>{y.current.forEach(e=>clearTimeout(e)),y.current=[]},[]),w=n.useCallback(()=>{(v(),c<i.length-1)?d(c+1):(m(!1),localStorage.setItem("journalTutorialDone","1"),t())},[c,i.length,v,t]);if(n.useEffect(()=>{h(!0)},[]),n.useEffect(()=>{if(!x||localStorage.getItem("journalTutorialDone"))return;let e=setTimeout(()=>{f(!0)},800);return()=>clearTimeout(e)},[x,a.waiter_call_enabled]),n.useEffect(()=>{g&&!localStorage.getItem("journalTutorialDone")&&m(!0)},[g]),(0,o.y)(u),n.useEffect(()=>{if(!u||c>=i.length)return;b({top:0,left:0,width:0,height:0});let e=setTimeout(()=>{let e=document.querySelector(i[c].selector);if(!e){c<i.length-1?d(c+1):(m(!1),localStorage.setItem("journalTutorialDone","1"),t());return}let a=e.getBoundingClientRect();b({top:a.top,left:a.left,width:a.width,height:a.height})},150),a=setTimeout(()=>{c<i.length-1?d(c+1):(m(!1),localStorage.setItem("journalTutorialDone","1"),t())},4e3);return y.current=[e,a],()=>{y.current.forEach(clearTimeout),y.current=[]}},[c,u,i,t]),!x||!u||c>=i.length||0===p.width&&0===p.height)return null;let k=p.left,j="down"===i[c].arrow?p.top+p.height+16:p.top+p.height/2-60;if("left"===i[c].arrow){if('[data-tutorial="restaurant-switch"]'===i[c].selector){if((k=Math.max(8,p.left+p.width/2-130))+260>window.innerWidth-8){let e=p.left+p.width+12;if(e+260<=window.innerWidth-8)k=e;else{let e=p.left-260-12;k=e>=8?e:8}}}else p.left+p.width+260+12>window.innerWidth?(k=p.left-260-12)<0&&(k=Math.max(0,window.innerWidth/2-130)):k=p.left+p.width+12}return j+120>window.innerHeight&&(j=Math.max(0,window.innerHeight-140)),(0,r.jsxs)("div",{className:"fixed inset-0 z-[9999]",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/60 pointer-events-auto",onClick:w,style:{cursor:"pointer",zIndex:9999}}),(0,r.jsxs)("div",{className:"pointer-events-none",children:[(0,r.jsx)("div",{style:{position:"absolute",top:p.top-8,left:p.left-8,width:p.width+16,height:p.height+16,borderRadius:16,border:"3px solid #06b6d4",boxShadow:"0 0 0 9999px rgba(0,0,0,0.5)",pointerEvents:"none"}}),(0,r.jsxs)("div",{style:{position:"absolute",top:j,left:k,width:260,zIndex:1e4},className:"bg-white dark:bg-gray-900 rounded-xl shadow-xl p-4 text-gray-900 dark:text-gray-100 animate-fade-in",children:[(0,r.jsx)("div",{className:"mb-2",children:i[c].text}),(0,r.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"Clique para pular"})]})]})]})};function X(e){var t;let{initialRestaurant:a,restaurants:l}=e,[i,s]=(0,n.useState)(a.id),[o,c]=(0,n.useState)(""),[d,u]=(0,n.useState)("grid"),[m,x]=(0,n.useState)("all"),[h,g]=(0,n.useState)({field:"default",direction:"asc"}),f=e=>{g(e)},p=null!==(t=l.find(e=>e.id===i))&&void 0!==t?t:a,b=n.useRef(null);(0,n.useEffect)(()=>{u("grid"),x("all"),c("")},[i]);let[w,k]=n.useState(!1),[j,N]=n.useState(!1);return(0,r.jsxs)("div",{className:"bg-white dark:bg-black text-gray-900 dark:text-gray-100 relative webapp-main-container with-categories ".concat("list"===d?"list-view":""),children:[(0,r.jsx)(U,{}),(0,r.jsxs)(n.Suspense,{fallback:null,children:[!w&&(0,r.jsx)(O,{onDone:()=>k(!0)}),"list"===d&&!j&&(0,r.jsx)(Z,{onDone:()=>N(!0),restaurant:p})]}),(0,r.jsx)(y,{restaurant:p,restaurants:l,selectedRestaurantId:i,onSelectRestaurant:s,currentSort:"list"===d?h:void 0,onSortChange:"list"===d?f:void 0,"data-tutorial":"restaurant-switch"}),(0,r.jsx)("div",{ref:b}),"grid"===d&&(0,r.jsx)(v.Z,{restaurant:{...p,featured_dishes:Array.isArray(p.featured_dishes)?(p.featured_dishes||[]).filter(e=>e&&e.name&&""!==e.name.trim()):[]},"data-tutorial":"carousel"}),"grid"===d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center px-4 mt-4 relative z-1",style:{marginBottom:"0.2em"},children:[(0,r.jsx)("div",{className:"flex-1 border-t border-gray-300 dark:border-gray-700",style:{marginTop:"0.2em"}}),(0,r.jsx)("span",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mx-3 whitespace-nowrap text-center",children:"Categorias"}),(0,r.jsx)("div",{className:"flex-1 border-t border-gray-300 dark:border-gray-700",style:{marginTop:"0.2em"}})]}),(0,r.jsx)(q,{categories:p.menu_categories,menuItems:p.menu_items,onSelectCategory:e=>{x(e),u("list")},fallbackImage:p.image})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S,{menuItems:p.menu_items,categories:p.menu_categories,searchTerm:o,fallbackImage:p.image,activeCategory:m,setActiveCategory:x,onGridClick:()=>{u("grid"),x("all")},currentSort:h,onSortChange:f,restaurantId:p.id,restaurant:p}),(0,r.jsx)(A,{restaurant:p,restaurants:l,searchTerm:o,onSearchTermChange:c,selectedCategory:m,"data-tutorial":"search-button"})]})]})}},8386:function(e,t,a){a.d(t,{AccessibilityProvider:function(){return i},H:function(){return s}});var r=a(7437),n=a(2265);let l=(0,n.createContext)(void 0);function i(e){let{children:t}=e,[a,i]=(0,n.useState)("normal"),[s,o]=(0,n.useState)("system"),[c,d]=(0,n.useState)(!1),u=e=>{let t=e?"#000000":"#ffffff",a=e?"black-translucent":"default",r=document.querySelector('meta[name="theme-color"]');r?r.content=t:((r=document.createElement("meta")).name="theme-color",r.content=t,document.head.appendChild(r));let n=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');n?n.content=a:((n=document.createElement("meta")).name="apple-mobile-web-app-status-bar-style",n.content=a,document.head.appendChild(n));let l=document.querySelector('meta[name="msapplication-TileColor"]');l?l.content=t:((l=document.createElement("meta")).name="msapplication-TileColor",l.content=t,document.head.appendChild(l))};return(0,n.useEffect)(()=>{try{let e=localStorage.getItem("accessibility-font-size");e&&["normal","large","extra-large"].includes(e)&&i(e);let t=localStorage.getItem("theme");t&&["light","dark","system"].includes(t)&&o(t)}catch(e){console.warn("Erro ao carregar prefer\xeancias de acessibilidade:",e)}finally{d(!0)}},[]),(0,n.useEffect)(()=>{if(!c)return;let e=document.documentElement;e.classList.remove("font-normal","font-large","font-extra-large"),e.classList.add("font-".concat(a));try{localStorage.setItem("accessibility-font-size",a)}catch(e){console.warn("Erro ao salvar tamanho da fonte:",e)}},[a,c]),(0,n.useEffect)(()=>{if(!c)return;let e=document.documentElement,t=document.body;if("dark"===s){e.classList.add("dark"),t.classList.add("dark"),u(!0);try{localStorage.setItem("theme","dark"),window.dispatchEvent(new StorageEvent("storage",{key:"theme",newValue:"dark"}))}catch(e){console.warn("Erro ao salvar tema:",e)}}else if("light"===s){e.classList.remove("dark"),t.classList.remove("dark"),u(!1);try{localStorage.setItem("theme","light"),window.dispatchEvent(new StorageEvent("storage",{key:"theme",newValue:"light"}))}catch(e){console.warn("Erro ao salvar tema:",e)}}else{try{localStorage.removeItem("theme"),window.dispatchEvent(new StorageEvent("storage",{key:"theme",newValue:null}))}catch(e){console.warn("Erro ao remover tema:",e)}window.matchMedia("(prefers-color-scheme: dark)").matches?(e.classList.add("dark"),t.classList.add("dark"),u(!0)):(e.classList.remove("dark"),t.classList.remove("dark"),u(!1))}},[s,c]),(0,n.useEffect)(()=>{let e=e=>{"theme"===e.key&&("dark"===e.newValue?o("dark"):"light"===e.newValue?o("light"):o("system"))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),(0,r.jsx)(l.Provider,{value:{fontSize:a,increaseFontSize:()=>{i(e=>"normal"===e?"large":"extra-large")},decreaseFontSize:()=>{i(e=>"extra-large"===e?"large":"normal")},resetFontSize:()=>{i("normal")},theme:s,setTheme:e=>{["light","dark","system"].includes(e)&&o(e)},toggleTheme:()=>{o(e=>"light"===e?"dark":"dark"===e?"system":"light")}},children:t})}function s(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useAccessibility must be used within an AccessibilityProvider");return e}},1220:function(e,t,a){a.d(t,{Z:function(){return o}});var r=a(7437),n=a(2265),l=a(8155),i=a(2530);function s(e){let{dish:t,onClick:a,isActive:n,showMostOrderedTitle:l}=e;return t?(0,r.jsx)("div",{className:"carousel-card flex-shrink-0 w-full transition-all duration-500 ease-in-out ".concat(n?"scale-100 opacity-100":"scale-90 opacity-60"),onClick:a,children:(0,r.jsx)("div",{className:"aspect-[4/3] overflow-hidden rounded-2xl relative w-full h-full",children:(0,r.jsxs)(i.Z,{src:t.image||"/window.svg",alt:t.name||"Item do card\xe1pio",clickable:!1,className:"w-full h-full object-cover",children:[l&&(0,r.jsx)("div",{className:"absolute top-2 right-2 z-30 pointer-events-none",children:(0,r.jsx)("span",{className:"bg-primary dark:bg-cyan-700 text-white text-xs font-bold rounded-full px-2 py-1 select-none",children:"mais pedido"})}),n&&(0,r.jsx)("div",{className:"absolute bottom-0 left-0 w-full text-white text-center font-semibold text-lg py-2 px-2 drop-shadow-[0_1.5px_4px_rgba(0,0,0,0.7)]",children:t.name||"Item"})]})})}):null}function o(e){let{restaurant:t,showMostOrderedTitle:a=!1,...i}=e,[o,c]=(0,n.useState)(0),[d,u]=(0,n.useState)(!1),[m,x]=(0,n.useState)(null),[h,g]=(0,n.useState)(!1),f=(0,n.useRef)(null),p=(0,n.useRef)(0),b=Array.isArray(t.featured_dishes)?t.featured_dishes.filter(e=>e&&e.name&&""!==e.name.trim()):[],y=(0,n.useCallback)(()=>{h||b.length<=1||(g(!0),c(e=>(e+1)%b.length),setTimeout(()=>g(!1),500))},[h,b.length]),v=(0,n.useCallback)(()=>{h||b.length<=1||(g(!0),c(e=>(e-1+b.length)%b.length),setTimeout(()=>g(!1),500))},[h,b.length]),w=()=>{f.current&&clearTimeout(f.current)},k=(0,n.useCallback)(()=>{w(),b.length>1&&(f.current=setTimeout(y,5e3))},[y,b.length]);(0,n.useEffect)(()=>(k(),()=>w()),[o,k]);let j=e=>{e&&e.name&&(x(e),u(!0))};return 0===b.length?(0,r.jsx)("section",{className:"carousel-section pt-0 pb-0 bg-white dark:bg-black relative z-10 w-full",...i,children:(0,r.jsx)("div",{className:"flex items-center justify-center h-64 text-gray-500 dark:text-gray-400",children:(0,r.jsx)("p",{children:"Nenhum prato em destaque dispon\xedvel"})})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("section",{className:"carousel-section pt-0 pb-0 bg-white dark:bg-black relative w-full",...i,children:(0,r.jsxs)("div",{className:"relative w-full overflow-hidden",onTouchStart:e=>{w(),p.current=e.targetTouches[0].clientX},onTouchEnd:e=>{let t=e.changedTouches[0].clientX-p.current;Math.abs(t)>50&&(t>0?v():y()),k()},children:[(0,r.jsx)("div",{className:"flex transition-transform duration-500 ease-in-out items-center",style:{transform:"translateX(calc(12.5% - ".concat(75*o,"%))")},children:b.map((e,t)=>(0,r.jsx)("div",{className:"w-9/12 flex-shrink-0 px-2",children:(0,r.jsx)(s,{dish:e,isActive:t===o,onClick:()=>j(e),showMostOrderedTitle:a})},t))}),b.length>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:v,disabled:h,className:"absolute left-2 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200","aria-label":"Prato anterior",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-gray-800 dark:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,r.jsx)("button",{onClick:y,disabled:h,className:"absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200","aria-label":"Pr\xf3ximo prato",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-gray-800 dark:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})}),d&&m&&t.id&&(0,r.jsx)(l.Z,{dish:m,restaurantId:t.id,restaurant:t,fallbackImage:t.image,open:d,onClose:()=>u(!1)})]})}},9555:function(e,t,a){a.d(t,{Z:function(){return i}});var r=a(7437);a(2265);var n=a(2530),l=a(9493);function i(e){var t;let{dish:a,onClick:i,size:s="large",fallbackImage:o}=e,c=l.j.hasRequiredComplementsWithPrice(a);return(0,r.jsxs)("div",{className:"menu-card bg-gray-50 dark:bg-gray-900 rounded-lg shadow cursor-pointer flex flex-col items-center ".concat("small"===s?"max-w-xs":""),onClick:i,children:[(0,r.jsx)("div",{className:"relative w-full",children:(0,r.jsx)(n.Z,{src:a.image,alt:a.name,fallbackSrc:o,clickable:!1,className:"w-full ".concat("small"===s?"h-32":"h-48"," object-cover rounded-t-lg"),children:(0,r.jsx)("div",{className:"absolute bottom-0 left-0 w-full px-4 py-2",style:{position:"absolute",bottom:"0",left:"0",right:"0",zIndex:10},children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-white drop-shadow-[0_1.5px_4px_rgba(0,0,0,0.7)]",children:a.name})})})}),(0,r.jsxs)("div",{className:"w-full p-3",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:a.description}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[c&&(0,r.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"a partir"}),(0,r.jsxs)("span",{className:"font-bold text-primary dark:text-cyan-300",children:["R$",a.price]})]}),(0,r.jsx)("div",{className:"flex gap-1",children:null===(t=a.tags)||void 0===t?void 0:t.map(e=>(0,r.jsx)("span",{className:"bg-primary dark:text-cyan-700 text-xs px-2 py-0.5 rounded-full",children:e},e))})]})]})]})}},665:function(e,t,a){a.d(t,{$:function(){return n}});var r=a(2265);function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{threshold:t=.1,rootMargin:a="0px 0px -50px 0px",triggerOnce:n=!0}=e,[l,i]=(0,r.useState)(!1),s=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=s.current;if(!e)return;let r=new IntersectionObserver(t=>{let[a]=t;a.isIntersecting?(i(!0),n&&r.unobserve(e)):n||i(!1)},{threshold:t,rootMargin:a});return r.observe(e),()=>{r.unobserve(e)}},[t,a,n]),{elementRef:s,isVisible:l}}}}]);